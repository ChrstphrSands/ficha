{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\ficha\\\\src\\\\components\\\\UsuarioForm.jsx\";\nimport React from \"react\";\nimport DatosPersonales from \"./DatosPersonales\";\nimport LugarFechaNacimiento from \"./LugarFechaNacimiento\";\nimport LugarResidenciaActual from \"./LugarResidenciaActual\";\nimport NivelEducativo from \"./NivelEducativo\";\nimport { Steps, Button, Modal, Input, Form, Result } from \"antd\";\nimport { Layout } from \"antd\";\nimport { Typography } from \"antd\";\nimport moment from \"moment\";\nimport DetalleFicha from \"./DetalleFicha\";\nconst Text = Typography.Text;\nconst Header = Layout.Header;\nconst Step = Steps.Step; // const initttt = {\n//   mode: \"no-cors\",\n//   headers: {\n//     \"Content-Type\": \"application/json\",\n//     Accept: \"application/json\"\n//   }\n// };\n// const apiUrl = 'https://net.upt.edu.pe/FichaDatos/FichaWeb/modules';\n\nconst apiUrl = \"http://192.168.0.5/FichaDatos/FichaWeb/modules\";\n\nclass UsuarioForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.codigo = \"\";\n\n    this.siguiente = async () => {\n      await this.validarEmail();\n      await this.validarCelular();\n\n      if (this.state.emailValido && this.state.celularValido) {\n        if (this.state.correo_verificado == true) {\n          const paso = this.state.paso + 1;\n\n          if (this.state.paso == 1) {\n            if (this.state.edadValida) {\n              await this.setState({\n                paso\n              }, this.updateData());\n            }\n          } else {\n            await this.setState({\n              paso\n            }, this.updateData());\n          }\n        } else {\n          this.showModalCorreo();\n        }\n      } else if (!this.state.emailValido) {\n        Modal.warning({\n          title: \"Email inválido\",\n          content: \"El email ingresado no es válido\",\n          centered: true\n        });\n      } else if (!this.state.celularValido) {\n        Modal.warning({\n          title: \"Celular inválido\",\n          content: \"El número de celular que ha ingresado tiene que ser mínimo de 9 dígitos\",\n          centered: true\n        });\n      }\n    };\n\n    this.validarEdad = async () => {\n      let a = Math.floor(moment(new Date()).diff(moment(\"07/25/2002\"), \"years\", true));\n\n      if (a > 16) {\n        await this.setState({\n          edadValida: true\n        });\n      }\n\n      console.log(a);\n    };\n\n    this.validarEmail = async () => {\n      const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      await this.setState({\n        emailValido: re.test(String(this.state.email_per).toLowerCase())\n      });\n    };\n\n    this.validarCelular = async () => {\n      const re = /^([0-9]{9})$/;\n      await this.setState({\n        celularValido: re.test(this.state.celular_per)\n      });\n    };\n\n    this.handleChangeInput = input => e => {\n      this.setState({\n        [input]: e.target.value\n      });\n    };\n\n    this.handlePressEnter = () => {// this.setState({\n      //   paso: 0\n      // });\n      // this.getFichaPersona();\n      //\n      // this.esCorreoVerificado();\n      // if (this.state.correo_verificado) {\n      //   this.confirm();\n      // }\n    };\n\n    this.getDiscapacidades = async () => {\n      const response = await fetch(\"\".concat(apiUrl, \"/Discapacidad.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n      const data = await response.json();\n      await this.setState({\n        discapacidades: data\n      });\n    };\n\n    this.getEstadosCiviles = async () => {\n      const response = await fetch(\"\".concat(apiUrl, \"/EstadoCivil.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n      const data = await response.json();\n      await this.setState({\n        estadosCiviles: data\n      });\n    };\n\n    this.getTipoDocumento = async () => {\n      const response = await fetch(\"\".concat(apiUrl, \"/TipoDocumento.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n      const data = await response.json();\n      await this.setState({\n        tiposDocumentos: data\n      });\n    };\n\n    this.getPaises = async () => {\n      const response = await fetch(\"\".concat(apiUrl, \"/Nacionalidad.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n      const data = await response.json();\n      await this.setState({\n        paises: data\n      });\n    };\n\n    this.getCiudades = async () => {\n      // const response = await fetch(\n      //   `${apiUrl}/Ciudad.php?p=read&session=${this.state.session}&CodUniv=${\n      //     this.state.cod_univ\n      //   }&idPais=${this.state.id_nac_pais_per}`\n      // );\n      const response = await fetch(\"\".concat(apiUrl, \"/Ciudad.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n      const data = await response.json();\n      await this.setState({\n        ciudades: data\n      });\n    };\n\n    this.getProvincias = async () => {\n      // const response = await fetch(\n      //   `${apiUrl}/Provincia.php?p=read&session=${this.state.session}&CodUniv=${\n      //     this.state.cod_univ\n      //   }&idCiudad=${this.state.id_nac_ciudad_per}`\n      // );\n      const response = await fetch(\"\".concat(apiUrl, \"/Provincia.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n      const data = await response.json();\n      await this.setState({\n        provincias: data\n      });\n    };\n\n    this.getDistritos = async () => {\n      // const response = await fetch(\n      //   `${apiUrl}/Distrito.php?p=read&session=${this.state.session}&CodUniv=${\n      //     this.state.cod_univ\n      //   }&idPais=${this.state.id_nac_pais_per}&idCiudad=${\n      //     this.state.id_nac_ciudad_per\n      //   }&idProvincia=${this.state.id_nac_provincia_per}`\n      // );\n      const response = await fetch(\"\".concat(apiUrl, \"/Distrito.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n      const data = await response.json();\n      await this.setState({\n        distritos: data\n      });\n    };\n\n    this.getInstituciones = async () => {\n      await fetch(\"\".concat(apiUrl, \"/NivelEducativo.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ, \"&nivel=1&idPais=9589&idCiudad=2919&idProvincia=2301&idDistrito=230101\")).then(response => response.json()).then(data => this.setState({\n        instituciones: data\n      }));\n    };\n\n    this.getDependencias = async () => {\n      await fetch(\"\".concat(apiUrl, \"/DependenciaVivienda.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ)).then(response => response.json()).then(data => this.setState({\n        dependencias: data\n      }));\n    };\n\n    this.esCorreoVerificado = () => {\n      fetch(\"http://172.35.123.9/FichaWeb/app/controller/fichaActualizacionPersona/read.php?CodUniv=\".concat(this.state.cod_univ)).then(response => response.json().then(data => {\n        if (response.status === 200) {\n          this.setState({\n            correo_verificado: data.correo_verificado === \"0\" ? false : true,\n            existe: true\n          }, this.confirm);\n        } else if (response.status === 400) {\n          this.setState({\n            correo_verificado: false,\n            existe: false\n          }, this.confirm);\n        }\n      }));\n    };\n\n    this.handleOkTerminos = () => {\n      this.setState({\n        terminos: true\n      }, this.state.id_ficha === 1 ? this.saveFichaActualizacionPersona : this.updateFichaActualizacion);\n    };\n\n    this.handleCancelTerminos = () => {\n      Modal.confirm({\n        title: \"Compromisos de las normas establecidas en la UPT\",\n        content: React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 558\n          },\n          __self: this\n        }, \"Para continuar con el proceso de matr\\xEDcula es necesario que complete la actualizaci\\xF3n de datos.\")\n      });\n    };\n\n    this.handleChangeSelect = select => e => {\n      this.setState({\n        [select]: e\n      });\n    };\n\n    this.handleChangeDatePicker = picker => date => {\n      this.setState({\n        [picker]: date\n      });\n    };\n\n    this.handleOk = async () => {\n      await this.setState({\n        loading: true,\n        bloqued: true,\n        disableNumero: true\n      });\n      setTimeout(() => {\n        this.setState({\n          loading: false,\n          visibleSend: true,\n          visibleSave: false\n        });\n      }, 2000);\n      await this.timer();\n      await this.sendSms();\n    };\n\n    this.handleOkCorreo = async () => {\n      await this.setState({\n        loading: true\n      });\n      setTimeout(() => {\n        this.setState({\n          loading: false,\n          visibleSendCorreo: true,\n          visibleSaveCorreo: false\n        });\n      }, 2000);\n      await this.sendEmail();\n    };\n\n    this.generateCodigo = () => {\n      let max = 9999;\n      let min = 1000;\n      return Math.floor(Math.random() * (max + 1 - min) + min);\n    };\n\n    this.sendEmail = async () => {\n      const url = \"\".concat(apiUrl, \"/Email.php?p=send&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const codigo = this.generateCodigo();\n      const data = {\n        email_per: this.state.email_per,\n        codigo: codigo\n      };\n      fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      }).then(res => res.json());\n      await this.saveEmail(codigo);\n    };\n\n    this.sendSms = async () => {\n      // const url = \"http://172.35.123.9/FichaWeb/app/controller/sms/send.php\";\n      const codigo = this.generateCodigo(); // const data = {\n      //   celular_numero: this.state.celular_per,\n      //   celular_mensaje: codigo\n      // };\n      // await fetch(url, {\n      //   method: \"POST\",\n      //   mode: \"no-cors\",\n      //   headers: {\n      //     \"Content-Type\": \"application/json\"\n      //   },\n      //   body: JSON.stringify(data)\n      // })\n      //   .then(res => res.json())\n      //   .catch(error => console.log(`Error: ${error}`));\n\n      await this.saveSms(codigo);\n    };\n\n    this.saveEmail = async codigo => {\n      // const codigo2 = this.generateCodigo();\n      const url = \"\".concat(apiUrl, \"/FichaActualizacionPersona.php?p=updateCodigoCorreo&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_ficha: this.state.id_ficha,\n        codigo_correo: codigo\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      }).then(res => res.json());\n    };\n\n    this.saveSms = async codigo => {\n      const url = \"\".concat(apiUrl, \"/FichaActualizacionPersona.php?p=updateCodigoSms&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_ficha: this.state.id_ficha,\n        codigo_sms: codigo\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      }).then(res => res.json());\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        visibleModal: false,\n        visibleSend: false,\n        visibleSave: true,\n        disableNumero: false\n      });\n    };\n\n    this.handleCancelCorreo = () => {\n      this.setState({\n        visibleModalCorreo: false,\n        visibleSendCorreo: false,\n        visibleSaveCorreo: true\n      });\n    };\n\n    this.getCodigoSms = async () => {\n      await fetch(\"\".concat(apiUrl, \"/FichaActualizacionPersona.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ)).then(response => response.json().then(data => {\n        if (response.status === 200) {\n          this.setState({\n            codigo_sms: data.codigo_sms\n          });\n        }\n      }));\n    };\n\n    this.handleSave = async () => {\n      await this.getCodigoSms();\n\n      if (this.state.codigo_sms == this.state.confirmacion) {\n        await this.setState({\n          visibleSave: false,\n          visibleSend: true,\n          sms_verificado: true,\n          visibleModal: false,\n          intentos: 0,\n          confirmacion: 0,\n          finalizado: true\n        }); // this.saveLugarNacimiento();\n        // this.saveLugarResidencia();\n        // this.saveEducacion();\n\n        if (this.state.sms_verificado) {\n          const url = \"\".concat(apiUrl, \"/FichaActualizacionPersona.php?p=updateSmsVerificacion&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n          const data = {\n            id_ficha: this.state.id_ficha,\n            sms_verificado: true,\n            finalizado: true\n          };\n          await fetch(url, {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"POST\",\n            // mode: \"no-cors\",\n            body: JSON.stringify(data)\n          }).then(res => res.json());\n        }\n      } else {\n        Modal.error({\n          title: \"ERROR\",\n          content: \"El código ingresado no coincide.\"\n        });\n      }\n    };\n\n    this.getCodigoCorreo = async () => {\n      await fetch(\"\".concat(apiUrl, \"/FichaActualizacionPersona.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ)).then(response => response.json().then(data => {\n        if (response.status === 200) {\n          this.setState({\n            codigo_correo: data.codigo_correo\n          });\n        }\n      }));\n    };\n\n    this.handleSaveCorreoVerificado = async () => {\n      await this.getCodigoCorreo();\n\n      if (this.state.codigo_correo == this.state.confirmacion) {\n        await this.setState({\n          correo_verificado: true,\n          visibleModalCorreo: false,\n          confirmacion: 0\n        });\n\n        if (this.state.correo_verificado) {\n          const url = \"\".concat(apiUrl, \"/FichaActualizacionPersona.php?p=updateCorreoVerificacion&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n          const data = {\n            id_ficha: this.state.id_ficha,\n            correo_verificado: true\n          };\n          fetch(url, {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"POST\",\n            // mode: \"no-cors\",\n            body: JSON.stringify(data)\n          }).then(res => res.json());\n        }\n\n        this.siguiente();\n      } else {\n        console.log(\"No son iguales\");\n      }\n    };\n\n    this.saveFichaActualizacionPersona = async () => {\n      const url = \"\".concat(apiUrl, \"/FichaActualizacionPersona.php?p=create&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_ficha: this.state.id_ficha,\n        cod_univ: this.state.cod_univ,\n        cod_per: this.state.cod_per,\n        terminos: this.state.terminos,\n        //TODO Agregar this.state.terminos\n        correo_verificado: false,\n        correo_fecha_verificacion: moment(),\n        sms_verificado: false,\n        sms_fecha_verificacion: moment(),\n        estado: false,\n        finalizado: false,\n        validado: false,\n        id_asesor: 0,\n        fecha_validacion: \"\"\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        mode: \"no-cors\",\n        body: JSON.stringify(data)\n      }); // .then(res => res.json())\n      // .catch(error => console.log(`Error: ${error}`))\n      // .then(res => console.log(`Sucess: ${res}`));\n\n      await this.getIdFichaPersona();\n    };\n\n    this.saveDatosPersonales = async () => {\n      const url = \"\".concat(apiUrl, \"/DatosPersonales.php?p=create&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_datos_personales: 0,\n        id_ficha: parseInt(this.state.id_ficha, 10),\n        nombres: this.state.nombre_per,\n        apellido_paterno: this.state.apellido_pat_per,\n        apellido_materno: this.state.apellido_mat_per,\n        sexo: this.state.sexo_per,\n        estado_civil: this.state.id_est_civil === \"\" || this.state.id_est_civil == null ? 1 : this.state.id_est_civil,\n        id_discapacidad: this.state.IdAdm_Discapacidad === 0 || this.state.IdAdm_Discapacidad === \"\" ? 1 : this.state.IdAdm_Discapacidad,\n        tipo_documento: parseInt(this.state.id_tipo_doc, 10),\n        numero_documento: this.state.nro_doc_per,\n        email: this.state.email_per,\n        celular: this.state.celular_per,\n        telefono: this.state.telefono_per === \"\" || this.state.telefono_per == null ? \"-\" : this.state.telefono_per\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      }).then(res => res.json());\n      await this.getIds();\n    };\n\n    this.saveLugarNacimiento = async () => {\n      const url = \"\".concat(apiUrl, \"/LugarNacimiento.php?p=create&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_nacimiento: 1,\n        id_ficha: this.state.id_ficha,\n        fecha_nacimiento: this.state.fch_nacimiento_per,\n        id_nac_cod_pais: this.state.id_nac_pais_per == null || this.state.id_nac_pais_per === \"\" ? 9589 : this.state.id_nac_pais_per,\n        id_nac_cod_ciudad: this.state.id_nac_ciudad_per == null || this.state.id_nac_ciudad_per === \"\" ? 2919 : this.state.id_nac_ciudad_per,\n        id_nac_cod_provincia: this.state.id_nac_provincia_per == null || this.state.id_nac_provincia_per === \"\" ? 2301 : this.state.id_nac_provincia_per,\n        id_nac_cod_distrito: this.state.id_nac_distrito_per == null || this.state.id_nac_distrito_per === \"\" ? 230101 : this.state.id_nac_distrito_per\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      }).then(res => res.json());\n      await this.getIds();\n    };\n\n    this.saveLugarResidencia = async () => {\n      const url = \"\".concat(apiUrl, \"/LugarResidencia.php?p=create&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_direccion: 1,\n        id_ficha: this.state.id_ficha,\n        id_dir_cod_ciudad: this.state.id_res_ciudad_per == null || this.state.id_res_ciudad_per === \"\" ? 2919 : this.state.id_res_ciudad_per,\n        id_dir_cod_provincia: this.state.id_res_provincia_per == null || this.state.id_res_provincia_per === \"\" ? 2301 : this.state.id_res_provincia_per,\n        id_dir_cod_distrito: this.state.id_res_distrito_per == null || this.state.id_res_distrito_per === \"\" ? 230101 : this.state.id_res_distrito_per,\n        direccion: this.state.res_direccion_per === \"\" ? \"-\" : this.state.res_direccion_per,\n        referencia: this.state.res_referencia_per === \"\" ? \"-\" : this.state.res_referencia_per,\n        telefono_referencia: this.state.res_referencia_per === \"\" ? \"-\" : this.state.res_telefono_per\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      }).then(res => res.json());\n      await this.getIds();\n    };\n\n    this.saveEducacion = async () => {\n      const url = \"\".concat(apiUrl, \"/NivelEducativo.php?p=create&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_educacion: 1,\n        id_ficha: this.state.id_ficha,\n        id_educ_cod_pais: this.state.id_educ_pais_per == null || this.state.id_educ_pais_per === \"\" ? 9589 : this.state.id_educ_pais_per,\n        id_educ_cod_ciudad: this.state.id_educ_ciudad_per == null || this.state.id_educ_ciudad_per === \"\" ? 2919 : this.state.id_educ_ciudad_per,\n        id_educ_cod_provincia: this.state.id_educ_provincia_per == null || this.state.id_educ_provincia_per === \"\" ? 2301 : this.state.id_educ_provincia_per,\n        id_educ_cod_distrito: this.state.id_educ_distrito_per == null || this.state.id_educ_distrito_per === \"\" ? 230101 : this.state.id_educ_distrito_per,\n        idEdu: this.state.idIEdu === \"\" || this.state.idIEdu == null ? \"0\" : this.state.idIEdu\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      }).then(res => res.json());\n      await this.getIds();\n    };\n\n    this.updateData = () => {\n      if (this.state.paso === 0 && this.state.id_datos_personales === 0) {\n        this.saveDatosPersonales();\n      } else if (this.state.paso === 0 && this.state.id_datos_personales !== 0) {\n        this.updateDatosPersonales();\n      } else if (this.state.paso === 1 && (this.state.id_nacimiento == null || this.state.id_nacimiento === 0)) {\n        this.saveLugarNacimiento();\n      } else if (this.state.paso === 1 && this.state.id_nacimiento !== 0) {\n        this.updateLugarNacimiento();\n      } else if (this.state.paso === 2 && (this.state.id_direccion == null || this.state.id_direccion === 0)) {\n        this.saveLugarResidencia();\n      } else if (this.state.paso === 2 && this.state.id_direccion !== 0) {\n        this.updateLugarResidencia();\n      }\n    };\n\n    this.updateFichaActualizacion = async () => {\n      let url = \"\";\n      url = \"\".concat(apiUrl, \"/FichaActualizacionPersona.php?p=update&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_ficha: this.state.id_ficha,\n        cod_univ: this.state.cod_univ,\n        cod_per: this.state.cod_per === \"\" ? 1 : this.state.cod_per,\n        terminos: this.state.terminos === \"\" || this.state.terminos == null ? 1 : this.state.terminos,\n        correo_verificado: this.state.correo_verificado,\n        correo_fecha_verificacion: this.state.correo_fecha_verificacion === \"\" ? \"2019/17/7 12:39\" : this.state.correo_fecha_verificacion,\n        sms_verificado: this.state.sms_verificado,\n        sms_fecha_verificacion: this.state.sms_fecha_verificacion === \"\" ? \"2019/17/7 12:39\" : this.state.sms_fecha_verificacion,\n        estado: this.state.estado\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      });\n    };\n\n    this.updateDatosPersonales = async () => {\n      let url = \"\";\n      url = \"\".concat(apiUrl, \"/DatosPersonales.php?p=update&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_datos_personales: this.state.id_datos_personales,\n        id_ficha: this.state.id_ficha,\n        nombres: this.state.nombre_per,\n        apellido_paterno: this.state.apellido_pat_per,\n        apellido_materno: this.state.apellido_mat_per,\n        sexo: this.state.sexo_per,\n        estado_civil: this.state.id_est_civil,\n        id_discapacidad: this.state.IdAdm_Discapacidad,\n        tipo_documento: this.state.id_tipo_doc,\n        numero_documento: this.state.nro_doc_per,\n        email: this.state.email_per,\n        celular: this.state.celular_per,\n        telefono: this.state.telefono_per\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      });\n    };\n\n    this.updateLugarNacimiento = async () => {\n      let url = \"\";\n      url = \"\".concat(apiUrl, \"/LugarNacimiento.php?p=update&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_nacimiento: this.state.id_nacimiento,\n        id_ficha: this.state.id_ficha,\n        fecha_nacimiento: this.state.fch_nacimiento_per,\n        id_nac_cod_pais: this.state.id_nac_pais_per,\n        id_nac_cod_ciudad: this.state.id_nac_ciudad_per,\n        id_nac_cod_provincia: this.state.id_nac_provincia_per,\n        id_nac_cod_distrito: this.state.id_nac_distrito_per\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      });\n    };\n\n    this.updateLugarResidencia = async () => {\n      let url = \"\";\n      url = \"\".concat(apiUrl, \"/LugarResidencia.php?p=update&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_direccion: this.state.id_direccion,\n        id_ficha: this.state.id_ficha,\n        id_dir_cod_ciudad: this.state.id_res_ciudad_per,\n        id_dir_cod_provincia: this.state.id_res_provincia_per,\n        id_dir_cod_distrito: this.state.id_res_distrito_per,\n        direccion: this.state.res_direccion_per,\n        referencia: this.state.res_referencia_per,\n        telefono_referencia: this.state.res_telefono_per\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      });\n    };\n\n    this.updateEducacion = async () => {\n      let url = \"\";\n      url = \"\".concat(apiUrl, \"/NivelEducativo.php?p=update&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ);\n      const data = {\n        id_educacion: this.state.id_educacion,\n        id_ficha: this.state.id_ficha,\n        idEdu: this.state.idIEdu,\n        id_educ_cod_pais: this.state.id_educ_pais_per,\n        id_educ_cod_ciudad: this.state.id_educ_ciudad_per,\n        id_educ_cod_provincia: this.state.id_educ_provincia_per,\n        id_educ_cod_distrio: this.state.id_educ_distrito_per\n      };\n      await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        // mode: \"no-cors\",\n        body: JSON.stringify(data)\n      });\n    };\n\n    this.showModal = () => {\n      this.setState({\n        visibleModal: true\n      }, this.state.id_educacion == null || this.state.id_educacion === 0 ? this.saveEducacion : this.updateEducacion);\n    };\n\n    this.showModalCorreo = () => {\n      this.setState({\n        visibleModalCorreo: true\n      });\n    };\n\n    this.getPersona = async () => {\n      const response = await fetch(\"\".concat(apiUrl, \"/FichaPersona.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n\n      if (response.status === 200) {\n        const data = await response.json();\n        this.setState({\n          id_ficha: 1,\n          cod_per: data.CodPer,\n          nombre_per: data.NomPer,\n          cod_univ: data.CodUniv,\n          apellido_pat_per: data.ApepPer,\n          apellido_mat_per: data.ApemPer,\n          id_tipo_doc: data.TipoDocum,\n          id_est_civil: data.EstadoCivil,\n          nro_doc_per: data.DniPer,\n          sexo_per: data.Sexo,\n          telefono_per: data.TelefFijo,\n          celular_per: data.TelefCelular,\n          email_per: data.Email,\n          fch_nacimiento_per: data.FechaNac,\n          res_direccion_per: data.Direccion,\n          IdAdm_Discapacidad: 1,\n          correo_verificado: false,\n          sms_verificado: false,\n          estado: false,\n          existe: true,\n          id_datos_personales: 0,\n          terminos: false,\n          finalizado: false\n        }, this.confirm);\n      } else if (response.status === 400) {\n        const res = await response.json();\n        this.setState({\n          mensaje: res.message\n        }, this.confirm);\n      }\n    };\n\n    this.getFichaPersona = async () => {\n      const response = await fetch(\"\".concat(apiUrl, \"/FichaActualizacionPersona.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n\n      if (response.status === 200) {\n        const data = await response.json();\n        this.getDatosPersonales();\n        this.getLugarNacimiento();\n        this.getLugarResidencia();\n        this.getNivelEducativo();\n        await this.setState({\n          id_ficha: data.id_ficha,\n          id_datos_personales: data.id_datos_personales,\n          id_nacimiento: data.id_nacimiento,\n          id_direccion: data.id_direccion,\n          id_educacion: data.id_educacion,\n          cod_univ: data.cod_univ,\n          cod_per: data.cod_per,\n          terminos: data.terminos,\n          correo_verificado: data.correo_verificado,\n          correo_fecha_verificacion: data.correo_fecha_verificacion,\n          sms_verificado: data.sms_verificado,\n          sms_fecha_verificacion: data.sms_fecha_verificacion,\n          estado: data.estado,\n          existe: true,\n          finalizado: data.finalizado,\n          validado: data.validado\n        }, this.confirm);\n      }\n\n      if (response.status === 400) {\n        this.getPersona();\n      }\n    };\n\n    this.getIdFichaPersona = async () => {\n      await fetch(\"\".concat(apiUrl, \"/FichaActualizacionPersona.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ)).then(response => response.json().then(data => {\n        if (response.status === 200) {\n          this.setState({\n            id_ficha: data.id_ficha\n          }, this.saveDatosPersonales);\n        }\n      }));\n    };\n\n    this.getIds = async () => {\n      if (this.state.id_datos_personales === 0 || this.state.id_nacimiento === 0 || this.state.id_direccion === 0 || this.state.id_educacion === 0) {\n        const response = await fetch(\"\".concat(apiUrl, \"/FichaActualizacionPersona.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n\n        if (response.status === 200) {\n          const data = await response.json();\n          await this.setState({\n            id_datos_personales: data.id_datos_personales,\n            id_nacimiento: data.id_nacimiento,\n            id_direccion: data.id_direccion,\n            id_educacion: data.id_educacion\n          });\n        } // .then(response =>\n        //   response.json().then(data => {\n        //     if (response.status === 200) {\n        //       this.setState({\n        //         id_datos_personales: data.id_datos_personales,\n        //         id_nacimiento: data.id_nacimiento,\n        //         id_direccion: data.id_direccion,\n        //         id_educacion: data.id_educacion\n        //       });\n        //     }\n        //   })\n\n      }\n    };\n\n    this.getLugarNacimiento = async () => {\n      const response = await fetch(\"\".concat(apiUrl, \"/LugarNacimiento.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n\n      if (response.status === 200) {\n        const data = await response.json();\n        await this.setState({\n          id_nacimiento: data.id_nacimiento,\n          fch_nacimiento_per: data.fecha_nacimiento,\n          id_nac_pais_per: data.id_nac_cod_pais != null ? data.id_nac_cod_pais : this.state.id_nac_pais_per,\n          id_nac_ciudad_per: data.id_nac_cod_ciudad != null ? data.id_nac_cod_ciudad : this.state.id_nac_pais_per,\n          id_nac_provincia_per: data.id_nac_cod_provincia != null ? data.id_nac_cod_provincia : this.state.id_nac_provincia_per,\n          id_nac_distrito_per: data.id_nac_cod_distrito != null ? data.id_nac_cod_distrito : this.state.id_nac_distrito_per\n        });\n      }\n    };\n\n    this.getLugarResidencia = async () => {\n      const response = await fetch(\"\".concat(apiUrl, \"/LugarResidencia.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n\n      if (response.status === 200) {\n        const data = await response.json();\n        await this.setState({\n          id_direccion: data.id_direccion,\n          id_res_ciudad_per: data.id_dir_cod_ciudad,\n          id_res_provincia_per: data.id_dir_cod_provincia,\n          id_res_distrito_per: data.id_dir_cod_distrito,\n          res_direccion_per: data.direccion,\n          res_referencia_per: data.referencia,\n          res_telefono_per: data.telefono_referencia\n        });\n      }\n    };\n\n    this.getNivelEducativo = async () => {\n      const response = await fetch(\"\".concat(apiUrl, \"/NivelEducativo.php?p=readOne&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ));\n\n      if (response.status === 200) {\n        const data = await response.json();\n        await this.setState({\n          id_educacion: data.id_educacion,\n          id_educ_pais_per: data.id_educ_cod_pais,\n          id_educ_ciudad_per: data.id_educ_cod_ciudad,\n          id_educ_provincia_per: data.id_educ_cod_provincia,\n          id_educ_distrito_per: data.id_educ_cod_distrito,\n          idIEdu: data.idEdu\n        });\n      }\n    };\n\n    this.actionButton = () => {\n      if (this.state.paso === 0) {\n        return \"button-right steps-action\";\n      } else {\n        return \"steps-action\";\n      }\n    };\n\n    this.timer = () => {\n      const time = setInterval(() => {\n        this.setState({\n          segundos: this.state.segundos - 1\n        }, () => {\n          if (this.state.segundos === 0) {\n            clearInterval(time);\n            this.setState({\n              visibleSend: false,\n              visibleSave: true,\n              disableNumero: false,\n              segundos: 62\n            });\n          }\n        });\n      }, 1000);\n      this.setState({\n        intentos: this.state.intentos + 1\n      });\n    };\n\n    this.state = {\n      paso: 0,\n      nombre_per: \"\",\n      apellido_pat_per: \"\",\n      apellido_mat_per: \"\",\n      id_tipo_doc: \"\",\n      nro_doc_per: \"\",\n      sexo_per: \"\",\n      id_est_civil: \"\",\n      telefono_per: \"\",\n      celular_per: \"\",\n      email_per: \"\",\n      nacionalidad: \"\",\n      fch_nacimiento_per: \"\",\n      id_nac_pais_per: 9589,\n      id_nac_ciudad_per: 2919,\n      id_nac_provincia_per: 2301,\n      id_nac_distrito_per: 230101,\n      residencia_per: \"\",\n      id_res_ciudad_per: 2919,\n      id_res_provincia_per: 2301,\n      id_res_distrito_per: 230101,\n      res_direccion_per: \"\",\n      res_referencia_per: \"\",\n      res_telefono_per: \"\",\n      IdAdm_Discapacidad: \"\",\n      idIEdu: \"\",\n      id_educ_pais_per: 9589,\n      id_educ_ciudad_per: 2919,\n      id_educ_provincia_per: 2301,\n      id_educ_distrito_per: 230101,\n      id_ficha: 0,\n      id_datos_personales: 0,\n      id_nacimiento: 0,\n      id_direccion: 0,\n      id_educacion: 0,\n      cod_univ: \"\",\n      cod_per: \"\",\n      terminos: false,\n      correo_verificado: false,\n      correo_fecha_verificacion: \"\",\n      sms_verificado: \"\",\n      sms_fecha_verificacion: \"\",\n      estado: \"\",\n      loading: false,\n      bloqued: false,\n      visibleSave: true,\n      visibleModal: false,\n      visibleModalCorreo: false,\n      visibleSend: false,\n      visibleSendCorreo: false,\n      visibleSaveCorreo: true,\n      disableNumero: false,\n      fichaPersona: true,\n      segundos: 62,\n      intentos: 0,\n      existe: false,\n      mensaje: \"\",\n      confirmacion: 0,\n      codigo_correo: 0,\n      codigo_sms: 0,\n      finalizado: false,\n      permiso: false,\n      session: \"\",\n      discapacidades: [],\n      estadosCiviles: [],\n      tiposDocumentos: [],\n      paises: [],\n      ciudades: [],\n      provincias: [],\n      distritos: [],\n      instituciones: [],\n      dependencias: [],\n      emailValido: false,\n      celularValido: false,\n      edadValida: false\n    };\n  }\n\n  async componentDidMount() {\n    const href = await window.location.href;\n    const arrUrl = await href.split(\"=\");\n    await this.setState({\n      session: arrUrl[1]\n    });\n    const response = await fetch(\"\".concat(apiUrl, \"/Usuario.php?p=read&session=\").concat(this.state.session));\n\n    if (response.status === 200) {\n      const data = await response.json();\n      await this.setState({\n        cod_univ: data.CodUniv,\n        permiso: data.bolAsesorFichaDatos\n      });\n    } else if (response.status === 400) {\n      console.log(\"No funciona\");\n    }\n\n    if (this.state.permiso == false) {\n      this.getFichaPersona();\n    }\n\n    await this.getDiscapacidades();\n    await this.getEstadosCiviles();\n    await this.getTipoDocumento();\n    await this.getPaises();\n    await this.getCiudades();\n    await this.getProvincias();\n    await this.getDistritos();\n    await this.getInstituciones();\n    await this.getDiscapacidades();\n    await this.getDependencias();\n  }\n\n  regresar() {\n    const paso = this.state.paso - 1;\n    this.setState({\n      paso\n    });\n  }\n\n  confirm() {\n    // if (this.state.correo_verificado === true && this.state.existe === true) {\n    //   this.getFichaPersona();\n    // } else\n    if (this.state.existe === true && this.state.terminos === false) {\n      Modal.confirm({\n        title: \"Compromisos de las normas establecidas en la UPT\",\n        content: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 411\n          },\n          __self: this\n        }, \"T\\xC9RMINOS Y CONDICIONES\"), React.createElement(\"div\", {\n          style: {\n            height: \"250px\",\n            overflowY: \"scroll\",\n            marginBottom: \"16px\",\n            backgroundColor: \"#f7f7f7\",\n            padding: \"0 16px\",\n            border: \"1px solid #001529\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 412\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          style: {\n            textAlign: \"justify\",\n            backgroundColor: \"#f7f7f7\",\n            borderRadius: \"16px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 422\n          },\n          __self: this\n        }, \"\\\"De conformidad con la Ley N\\xB0 29733, Ley de Protecci\\xF3n de Datos Personales (en adelante, la Ley), y su reglamento, aprobado por el Decreto Supremo N\\xB0 003-2013- JUS (en adelante, el Reglamento), el usuario autoriza el tratamiento de los datos personales que facilite a la Universidad Privada de Tacna (en adelante, la Universidad) por el presente medio electr\\xF3nico. Al completar el presente formulario y aceptar previamente los t\\xE9rminos que rigen el tratamiento de los datos personales, la Universidad proceder\\xE1 a guardar la informaci\\xF3n del usuario en la base de datos que posee en condici\\xF3n de titular, por tiempo indefinido o hasta que usted revoque el consentimiento otorgado. La informaci\\xF3n que brindar\\xE1 el usuario a la Universidad se encontrar\\xE1 referida a nombres y apellidos, documento de identidad, fecha de nacimiento, tel\\xE9fono, correo electr\\xF3nico y, en general, cualquier otro dato personal que se ponga en conocimiento de la Universidad. La Universidad (sito en Campus Capanique s/n), declara ser la titular del banco de datos personales y utilizar\\xE1 su informaci\\xF3n para las siguientes finalidades: i) realizaci\\xF3n de gestiones acad\\xE9micas, institucionales y administrativas; ii) remisi\\xF3n de informaci\\xF3n para cubrir las necesidades respecto de los programas acad\\xE9micos que son del inter\\xE9s o consulta del titular; y, iii) realizaci\\xF3n de encuestas de satisfacci\\xF3n y mejora del servicio educativo. Adicionalmente, y de ser aceptado por el usuario, la Universidad queda autorizada a remitirle informaci\\xF3n sobre los diferentes programas acad\\xE9micos de postgrado, educaci\\xF3n ejecutiva e idiomas, eventos acad\\xE9micos, art\\xEDsticos, culturales y de entretenimiento organizados por la Universidad o cualquiera de sus dependencias, para lo cual utilizar\\xE1 la v\\xEDa postal, telef\\xF3nica o cualquier otro medio de comunicaci\\xF3n. En caso de que el usuario desee ejercer sus derechos de acceso, cancelaci\\xF3n, oposici\\xF3n, revocatoria de consentimiento, modificaci\\xF3n o cualquier otro contemplado en la Ley, deber\\xE1 enviar una comunicaci\\xF3n al buz\\xF3n computo@upt.edu.pe. Se pone en conocimiento de los usuarios que los formularios, mediante los cuales otorguen sus datos personales, incluyen preguntas obligatorias y facultativas, las cuales podr\\xE1n ser identificadas en cada formulario. Las consecuencias de la concesi\\xF3n de datos personales, faculta a la Universidad a utilizarlos de acuerdo a las finalidades se\\xF1aladas precedentemente. La negativa en la entrega de los datos personales del usuario imposibilita a la Universidad a incluirlos en su base de datos y a atender sus requerimientos.\")), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 474\n          },\n          __self: this\n        }, \"DECLARO BAJO JURAMENTO QUE:\"), React.createElement(\"div\", {\n          style: {\n            height: \"250px\",\n            overflowY: \"scroll\",\n            backgroundColor: \"#f7f7f7\",\n            padding: \"0 16px\",\n            border: \"1px solid #001529\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 475\n          },\n          __self: this\n        }, React.createElement(\"ol\", {\n          style: {\n            textAlign: \"justify\",\n            backgroundColor: \"#f7f7f7\",\n            borderRadius: \"16px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 484\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 491\n          },\n          __self: this\n        }, \"He sido informado respecto a los reglamentos, normas y directivas establecidas en la UPT, referidas a las Actividades Acad\\xE9micas, Administrativas y de Pagos, las mismas que se encuentran publicadas y disponibles en la p\\xE1gina web de la Universidad Privada de Tacna: www.upt.edu.pe y que declaro conocer.\"), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 499\n          },\n          __self: this\n        }, \"He tomado conocimiento de los beneficios, oportunidades y moras relacionadas al pago por el servicio educativo, seg\\xFAn directiva de Gesti\\xF3n de Pagos por derechos de ense\\xF1anza en la Universidad Privada de Tacna y dem\\xE1s normas y directivas internas vigentes y aplicables, as\\xED como las tasas administrativas y acad\\xE9micas, cuyo procedimiento y montos declaro conocer, asumir y cumplir.\"), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 508\n          },\n          __self: this\n        }, \"En el calendario acad\\xE9mico que fija la UPT para cada semestre acad\\xE9mico, se establece el Cronograma para el pago de las cuotaspor el Servicio Educativo y que,en caso de retraso en su pago, se genera un inter\\xE9s moratorio del que he sido informado.\"), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 515\n          },\n          __self: this\n        }, \"Los datos personales consignados en el presente documento, son veraces y aut\\xE9nticos y tienen car\\xE1cter de Declaraci\\xF3n Jurada, por lo que pueden ser utilizados por la Universidad Privada de Tacna para que se me informe respecto a aspectos acad\\xE9micos y administrativos de esta instituci\\xF3n. Encaso de falsedad y ausencia de estos datos, asumo y me someto a las acciones administrativas y legales que resulten aplicables.\")))),\n        okText: \"Si acepto\",\n        cancelText: \"No acepto\",\n        onOk: this.handleOkTerminos,\n        onCancel: this.handleCancelTerminos,\n        width: \"70%\",\n        centered: true\n      });\n    } else if (this.state.existe === false) {\n      Modal.error({\n        title: \"ERROR\",\n        content: this.state.mensaje\n      });\n    }\n  }\n\n  getDatosPersonales() {\n    fetch(\"\".concat(apiUrl, \"/DatosPersonales.php?p=read&session=\").concat(this.state.session, \"&CodUniv=\").concat(this.state.cod_univ)).then(response => response.json()).then(data => this.setState({\n      id_datos_personales: data.id_datos_personales,\n      nombre_per: data.nombres,\n      apellido_pat_per: data.apellido_paterno,\n      apellido_mat_per: data.apellido_materno,\n      id_tipo_doc: data.tipo_documento,\n      nro_doc_per: data.numero_documento,\n      id_est_civil: data.estado_civil,\n      sexo_per: data.sexo,\n      IdAdm_Discapacidad: data.id_discapacidad,\n      telefono_per: data.telefono,\n      celular_per: data.celular,\n      email_per: data.email\n    }));\n  }\n\n  render() {\n    const _this$state = this.state,\n          paso = _this$state.paso,\n          loading = _this$state.loading,\n          visibleModal = _this$state.visibleModal,\n          bloqued = _this$state.bloqued,\n          visibleSave = _this$state.visibleSave,\n          visibleSend = _this$state.visibleSend,\n          disableNumero = _this$state.disableNumero,\n          visibleModalCorreo = _this$state.visibleModalCorreo,\n          visibleSendCorreo = _this$state.visibleSendCorreo,\n          visibleSaveCorreo = _this$state.visibleSaveCorreo;\n    const _this$state2 = this.state,\n          nombre_per = _this$state2.nombre_per,\n          apellido_pat_per = _this$state2.apellido_pat_per,\n          apellido_mat_per = _this$state2.apellido_mat_per,\n          id_tipo_doc = _this$state2.id_tipo_doc,\n          nro_doc_per = _this$state2.nro_doc_per,\n          sexo_per = _this$state2.sexo_per,\n          id_est_civil = _this$state2.id_est_civil,\n          telefono_per = _this$state2.telefono_per,\n          celular_per = _this$state2.celular_per,\n          email_per = _this$state2.email_per,\n          nacionalidad = _this$state2.nacionalidad,\n          fch_nacimiento_per = _this$state2.fch_nacimiento_per,\n          id_nac_pais_per = _this$state2.id_nac_pais_per,\n          id_nac_ciudad_per = _this$state2.id_nac_ciudad_per,\n          id_nac_provincia_per = _this$state2.id_nac_provincia_per,\n          id_nac_distrito_per = _this$state2.id_nac_distrito_per,\n          residencia_per = _this$state2.residencia_per,\n          id_res_ciudad_per = _this$state2.id_res_ciudad_per,\n          id_res_provincia_per = _this$state2.id_res_provincia_per,\n          id_res_distrito_per = _this$state2.id_res_distrito_per,\n          res_direccion_per = _this$state2.res_direccion_per,\n          res_referencia_per = _this$state2.res_referencia_per,\n          res_telefono_per = _this$state2.res_telefono_per,\n          id_idioma_origen = _this$state2.id_idioma_origen,\n          idioma_ingles_per = _this$state2.idioma_ingles_per,\n          idioma_portuguez_per = _this$state2.idioma_portuguez_per,\n          idioma_frances_per = _this$state2.idioma_frances_per,\n          id_idioma_otro = _this$state2.id_idioma_otro,\n          IdAdm_Discapacidad = _this$state2.IdAdm_Discapacidad,\n          idIEdu = _this$state2.idIEdu,\n          id_educ_pais_per = _this$state2.id_educ_pais_per,\n          id_educ_ciudad_per = _this$state2.id_educ_ciudad_per,\n          id_educ_provincia_per = _this$state2.id_educ_provincia_per,\n          id_educ_distrito_per = _this$state2.id_educ_distrito_per,\n          id_ficha = _this$state2.id_ficha,\n          id_datos_personales = _this$state2.id_datos_personales,\n          id_nacimiento = _this$state2.id_nacimiento,\n          id_direccion = _this$state2.id_direccion,\n          id_educacion = _this$state2.id_educacion,\n          cod_univ = _this$state2.cod_univ,\n          cod_per = _this$state2.cod_per,\n          terminos = _this$state2.terminos,\n          correo_verificado = _this$state2.correo_verificado,\n          correo_fecha_verificacion = _this$state2.correo_fecha_verificacion,\n          sms_verificado = _this$state2.sms_verificado,\n          sms_fecha_verificacion = _this$state2.sms_fecha_verificacion,\n          estado = _this$state2.estado,\n          fichaPersona = _this$state2.fichaPersona,\n          segundos = _this$state2.segundos,\n          intentos = _this$state2.intentos,\n          mensaje = _this$state2.mensaje,\n          confirmacion = _this$state2.confirmacion,\n          finalizado = _this$state2.finalizado,\n          session = _this$state2.session,\n          permiso = _this$state2.permiso,\n          validado = _this$state2.validado;\n    const ficha = {\n      nombre_per,\n      apellido_pat_per,\n      apellido_mat_per,\n      id_tipo_doc,\n      nro_doc_per,\n      sexo_per,\n      id_est_civil,\n      telefono_per,\n      celular_per,\n      email_per,\n      nacionalidad,\n      fch_nacimiento_per,\n      id_nac_pais_per,\n      id_nac_ciudad_per,\n      id_nac_provincia_per,\n      id_nac_distrito_per,\n      residencia_per,\n      id_res_ciudad_per,\n      id_res_provincia_per,\n      id_res_distrito_per,\n      res_direccion_per,\n      res_referencia_per,\n      res_telefono_per,\n      id_idioma_origen,\n      idioma_ingles_per,\n      idioma_portuguez_per,\n      idioma_frances_per,\n      id_idioma_otro,\n      IdAdm_Discapacidad,\n      idIEdu,\n      id_educ_pais_per,\n      id_educ_ciudad_per,\n      id_educ_provincia_per,\n      id_educ_distrito_per,\n      id_ficha,\n      id_datos_personales,\n      id_nacimiento,\n      id_direccion,\n      id_educacion,\n      cod_univ,\n      cod_per,\n      terminos,\n      correo_verificado,\n      correo_fecha_verificacion,\n      sms_verificado,\n      sms_fecha_verificacion,\n      estado,\n      fichaPersona,\n      segundos,\n      intentos,\n      mensaje,\n      confirmacion,\n      finalizado,\n      validado,\n      session\n    };\n    const discapacidades = this.state.discapacidades;\n    const estadosCiviles = this.state.estadosCiviles;\n    const tiposDocumentos = this.state.tiposDocumentos;\n    const _this$state3 = this.state,\n          paises = _this$state3.paises,\n          ciudades = _this$state3.ciudades,\n          provincias = _this$state3.provincias,\n          distritos = _this$state3.distritos,\n          instituciones = _this$state3.instituciones,\n          dependencias = _this$state3.dependencias;\n    const pasos = [{\n      title: \"Datos Personales\",\n      content: React.createElement(DatosPersonales, {\n        ficha: ficha,\n        discapacidades: discapacidades,\n        estadosCiviles: estadosCiviles,\n        tiposDocumentos: tiposDocumentos,\n        handleChangeInput: this.handleChangeInput,\n        handleChangeSelect: this.handleChangeSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1635\n        },\n        __self: this\n      })\n    }, {\n      title: \"Lugar y fecha de nacimiento\",\n      content: React.createElement(LugarFechaNacimiento, {\n        ficha: ficha,\n        session: session,\n        cod_univ: cod_univ,\n        paises: paises,\n        ciudades: ciudades,\n        provincias: provincias,\n        distritos: distritos,\n        handleChangeInput: this.handleChangeInput,\n        handleChangeSelect: this.handleChangeSelect,\n        handleChangeDatePicker: this.handleChangeDatePicker,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1648\n        },\n        __self: this\n      })\n    }, {\n      title: \"Lugar de residencia actual\",\n      content: React.createElement(LugarResidenciaActual, {\n        ficha: ficha,\n        session: session,\n        cod_univ: cod_univ,\n        ciudades: ciudades,\n        provincias: provincias,\n        dependencias: dependencias,\n        distritos: distritos,\n        handleChangeInput: this.handleChangeInput,\n        handleChangeSelect: this.handleChangeSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1665\n        },\n        __self: this\n      })\n    }, {\n      title: \"Nivel educativo e institucion educativa\",\n      content: React.createElement(NivelEducativo, {\n        ficha: ficha,\n        session: session,\n        cod_univ: cod_univ,\n        paises: paises,\n        ciudades: ciudades,\n        provincias: provincias,\n        instituciones: instituciones,\n        distritos: distritos,\n        handleChangeInput: this.handleChangeInput,\n        handleChangeSelect: this.handleChangeSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1681\n        },\n        __self: this\n      })\n    }];\n    const formItemLayout = {\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 8\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 16\n        }\n      }\n    };\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    return React.createElement(Layout, {\n      style: {\n        background: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1711\n      },\n      __self: this\n    }, React.createElement(Header, {\n      style: {\n        color: \"white\",\n        marginBottom: \"1em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1712\n      },\n      __self: this\n    }, \"Actualizaci\\xF3n de Datos Personales\"), this.state.finalizado == true && validado == true && React.createElement(Result, {\n      status: \"success\",\n      title: \"Su ficha ha sido validada correctamente\",\n      subTitle: \"Puede continuar con el proceso de matr\\xEDcula\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1716\n      },\n      __self: this\n    }), this.state.finalizado == true && validado == false && React.createElement(Result, {\n      status: \"info\",\n      title: \"En proceso de validaci\\xF3n\",\n      subTitle: \"Ac\\xE9rquese donde un asesor para terminar de validar su ficha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1723\n      },\n      __self: this\n    }), permiso == true && React.createElement(DetalleFicha, {\n      permiso: permiso,\n      session: session,\n      finalizado: finalizado,\n      validado: ficha.validado,\n      cod_univ: this.state.cod_univ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1730\n      },\n      __self: this\n    }), this.state.finalizado == false && React.createElement(\"div\", {\n      hidden: !terminos,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1739\n      },\n      __self: this\n    }, React.createElement(Steps, {\n      current: paso,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1740\n      },\n      __self: this\n    }, pasos.map(item => React.createElement(Step, {\n      key: item.title,\n      title: item.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1742\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"steps-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1745\n      },\n      __self: this\n    }, pasos[paso].content), React.createElement(\"div\", {\n      className: this.actionButton(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1746\n      },\n      __self: this\n    }, paso > 0 && React.createElement(Button, {\n      style: {\n        marginLeft: 8\n      },\n      onClick: () => this.regresar(),\n      icon: \"caret-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1748\n      },\n      __self: this\n    }, \"Regresar\"), paso < pasos.length - 1 && React.createElement(Button, {\n      type: \"primary\",\n      onClick: () => this.siguiente(),\n      icon: \"caret-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1757\n      },\n      __self: this\n    }, \"Siguiente\"), paso === pasos.length - 1 && React.createElement(Button, {\n      type: \"primary\",\n      icon: \"save\",\n      onClick: () => this.showModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1766\n      },\n      __self: this\n    }, \"Guardar\"), React.createElement(Modal, {\n      width: 500,\n      visible: visibleModal,\n      style: {\n        textAlign: \"inherit\"\n      },\n      title: \"Confirmaci\\xF3n por SMS\",\n      onOk: this.handleOk,\n      onCancel: this.handleCancel,\n      centered: true,\n      footer: [React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1783\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          width: \"50%\",\n          marginBottom: \"8px\"\n        },\n        key: \"back\",\n        icon: \"close\",\n        type: \"danger\",\n        onClick: () => this.handleCancel(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1784\n        },\n        __self: this\n      }, \"Cancelar\")), React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1794\n        },\n        __self: this\n      }, React.createElement(Button, {\n        disabled: intentos === 3,\n        hidden: visibleSend,\n        style: {\n          width: \"50%\",\n          marginBottom: \"8px\"\n        },\n        key: \"submit\",\n        icon: \"check\",\n        type: \"primary\",\n        loading: loading,\n        block: bloqued,\n        onClick: () => this.handleOk(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1795\n        },\n        __self: this\n      }, \"Enviar\")), React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1809\n        },\n        __self: this\n      }, React.createElement(Button, {\n        hidden: visibleSave,\n        style: {\n          width: \"50%\"\n        },\n        key: \"submit\",\n        type: \"primary\",\n        loading: loading,\n        onClick: () => this.handleSave(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1810\n        },\n        __self: this\n      }, \"Confirmar y Guardar\"))],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1774\n      },\n      __self: this\n    }, React.createElement(Form, Object.assign({}, formItemLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1823\n      },\n      __self: this\n    }), React.createElement(Form.Item, {\n      label: \"Numero de celular\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1824\n      },\n      __self: this\n    }, getFieldDecorator(\"celular\", {\n      initialValue: this.state.celular_per,\n      rules: [{\n        required: true,\n        message: \"Por favor ingrese su número de celular válido\"\n      }]\n    })(React.createElement(Input, {\n      disabled: disableNumero,\n      onChange: this.handleChangeInput(\"celular_per\"),\n      style: {\n        width: \"45%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1835\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"Mensaje de confirmaci\\xF3n\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1842\n      },\n      __self: this\n    }, getFieldDecorator(\"confirmacion\", {\n      rules: [{\n        required: true,\n        message: \"Por favor ingrese el código de confirmación\"\n      }]\n    })(React.createElement(Input, {\n      style: {\n        width: \"45%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1850\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"button-intentos\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1853\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"link\",\n      style: {\n        fontSize: \"14px\",\n        fontWeight: \"bold\"\n      },\n      hidden: !visibleSend,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1854\n      },\n      __self: this\n    }, \"Puede volver a enviar en: \", segundos)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1862\n      },\n      __self: this\n    }, React.createElement(Text, {\n      style: {\n        fontWeight: \"bold\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1863\n      },\n      __self: this\n    }, \"Dispone de 3 intentos cada 24 horas: ha realizado \", intentos, \" \", \"de 3 intentos.\")), React.createElement(\"div\", {\n      hidden: intentos !== 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1868\n      },\n      __self: this\n    }, React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1869\n      },\n      __self: this\n    }, \"Sino ha llegado el mensaje de confirmaci\\xF3n vuelva a intentar el d\\xEDa de ma\\xF1ana\"))), React.createElement(Modal, {\n      visible: visibleModalCorreo,\n      title: \"Validaci\\xF3n de email\",\n      centered: true,\n      footer: [React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1881\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          width: \"50%\",\n          marginBottom: \"8px\"\n        },\n        key: \"back\",\n        icon: \"close\",\n        type: \"danger\",\n        onClick: () => this.handleCancelCorreo(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1882\n        },\n        __self: this\n      }, \"Cancelar\")), React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1892\n        },\n        __self: this\n      }, React.createElement(Button, {\n        hidden: visibleSendCorreo,\n        style: {\n          width: \"50%\",\n          marginBottom: \"8px\"\n        },\n        key: \"submit\",\n        icon: \"check\",\n        type: \"primary\",\n        loading: loading,\n        block: bloqued,\n        onClick: () => this.handleOkCorreo(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1893\n        },\n        __self: this\n      }, \"Enviar C\\xF3digo\")), React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1906\n        },\n        __self: this\n      }, React.createElement(Button, {\n        hidden: visibleSaveCorreo,\n        style: {\n          width: \"50%\"\n        },\n        key: \"submit\",\n        type: \"primary\",\n        loading: loading,\n        onClick: () => this.handleSaveCorreoVerificado(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1907\n        },\n        __self: this\n      }, \"Confirmar y Guardar\"))],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1876\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1920\n      },\n      __self: this\n    }), React.createElement(Form, Object.assign({}, formItemLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1921\n      },\n      __self: this\n    }), React.createElement(Form.Item, {\n      label: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1922\n      },\n      __self: this\n    }, getFieldDecorator(\"email\", {\n      initialValue: this.state.email_per,\n      rules: [{\n        required: true,\n        message: \"Por favor ingrese su email\"\n      }]\n    })(React.createElement(Input, {\n      disabled: true,\n      onChange: this.handleChangeInput(\"email_per\"),\n      style: {\n        width: \"45%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1932\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"C\\xF3digo de confirmaci\\xF3n\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1939\n      },\n      __self: this\n    }, getFieldDecorator(\"confirmacion\", {\n      rules: [{\n        required: true,\n        message: \"Por favor ingrese el código que ha sido enviado a su correo\"\n      }]\n    })(React.createElement(Input, {\n      style: {\n        width: \"45%\"\n      },\n      onChange: this.handleChangeInput(\"confirmacion\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1949\n      },\n      __self: this\n    }))))))));\n  }\n\n}\n\nexport default Form.create()(UsuarioForm);","map":{"version":3,"sources":["D:\\Projects\\ficha\\src\\components\\UsuarioForm.jsx"],"names":["React","DatosPersonales","LugarFechaNacimiento","LugarResidenciaActual","NivelEducativo","Steps","Button","Modal","Input","Form","Result","Layout","Typography","moment","DetalleFicha","Text","Header","Step","apiUrl","UsuarioForm","Component","constructor","props","codigo","siguiente","validarEmail","validarCelular","state","emailValido","celularValido","correo_verificado","paso","edadValida","setState","updateData","showModalCorreo","warning","title","content","centered","validarEdad","a","Math","floor","Date","diff","console","log","re","test","String","email_per","toLowerCase","celular_per","handleChangeInput","input","e","target","value","handlePressEnter","getDiscapacidades","response","fetch","session","cod_univ","data","json","discapacidades","getEstadosCiviles","estadosCiviles","getTipoDocumento","tiposDocumentos","getPaises","paises","getCiudades","ciudades","getProvincias","provincias","getDistritos","distritos","getInstituciones","then","instituciones","getDependencias","dependencias","esCorreoVerificado","status","existe","confirm","handleOkTerminos","terminos","id_ficha","saveFichaActualizacionPersona","updateFichaActualizacion","handleCancelTerminos","handleChangeSelect","select","handleChangeDatePicker","picker","date","handleOk","loading","bloqued","disableNumero","setTimeout","visibleSend","visibleSave","timer","sendSms","handleOkCorreo","visibleSendCorreo","visibleSaveCorreo","sendEmail","generateCodigo","max","min","random","url","headers","method","body","JSON","stringify","res","saveEmail","saveSms","codigo_correo","codigo_sms","handleCancel","visibleModal","handleCancelCorreo","visibleModalCorreo","getCodigoSms","handleSave","confirmacion","sms_verificado","intentos","finalizado","error","getCodigoCorreo","handleSaveCorreoVerificado","cod_per","correo_fecha_verificacion","sms_fecha_verificacion","estado","validado","id_asesor","fecha_validacion","mode","getIdFichaPersona","saveDatosPersonales","id_datos_personales","parseInt","nombres","nombre_per","apellido_paterno","apellido_pat_per","apellido_materno","apellido_mat_per","sexo","sexo_per","estado_civil","id_est_civil","id_discapacidad","IdAdm_Discapacidad","tipo_documento","id_tipo_doc","numero_documento","nro_doc_per","email","celular","telefono","telefono_per","getIds","saveLugarNacimiento","id_nacimiento","fecha_nacimiento","fch_nacimiento_per","id_nac_cod_pais","id_nac_pais_per","id_nac_cod_ciudad","id_nac_ciudad_per","id_nac_cod_provincia","id_nac_provincia_per","id_nac_cod_distrito","id_nac_distrito_per","saveLugarResidencia","id_direccion","id_dir_cod_ciudad","id_res_ciudad_per","id_dir_cod_provincia","id_res_provincia_per","id_dir_cod_distrito","id_res_distrito_per","direccion","res_direccion_per","referencia","res_referencia_per","telefono_referencia","res_telefono_per","saveEducacion","id_educacion","id_educ_cod_pais","id_educ_pais_per","id_educ_cod_ciudad","id_educ_ciudad_per","id_educ_cod_provincia","id_educ_provincia_per","id_educ_cod_distrito","id_educ_distrito_per","idEdu","idIEdu","updateDatosPersonales","updateLugarNacimiento","updateLugarResidencia","updateEducacion","id_educ_cod_distrio","showModal","getPersona","CodPer","NomPer","CodUniv","ApepPer","ApemPer","TipoDocum","EstadoCivil","DniPer","Sexo","TelefFijo","TelefCelular","Email","FechaNac","Direccion","mensaje","message","getFichaPersona","getDatosPersonales","getLugarNacimiento","getLugarResidencia","getNivelEducativo","actionButton","time","setInterval","segundos","clearInterval","nacionalidad","residencia_per","fichaPersona","permiso","componentDidMount","href","window","location","arrUrl","split","bolAsesorFichaDatos","regresar","height","overflowY","marginBottom","backgroundColor","padding","border","textAlign","borderRadius","okText","cancelText","onOk","onCancel","width","render","id_idioma_origen","idioma_ingles_per","idioma_portuguez_per","idioma_frances_per","id_idioma_otro","ficha","pasos","formItemLayout","labelCol","xs","span","sm","wrapperCol","getFieldDecorator","form","background","color","map","item","marginLeft","length","initialValue","rules","required","fontSize","fontWeight","create"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport DatosPersonales from \"./DatosPersonales\";\nimport LugarFechaNacimiento from \"./LugarFechaNacimiento\";\nimport LugarResidenciaActual from \"./LugarResidenciaActual\";\nimport NivelEducativo from \"./NivelEducativo\";\nimport { Steps, Button, Modal, Input, Form, Result } from \"antd\";\nimport { Layout } from \"antd\";\nimport { Typography } from \"antd\";\nimport moment from \"moment\";\nimport DetalleFicha from \"./DetalleFicha\";\n\nconst { Text } = Typography;\nconst { Header } = Layout;\nconst { Step } = Steps;\n\n// const initttt = {\n//   mode: \"no-cors\",\n//   headers: {\n//     \"Content-Type\": \"application/json\",\n//     Accept: \"application/json\"\n//   }\n// };\n\n// const apiUrl = 'https://net.upt.edu.pe/FichaDatos/FichaWeb/modules';\nconst apiUrl = \"http://192.168.0.5/FichaDatos/FichaWeb/modules\";\n\nclass UsuarioForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      paso: 0,\n      nombre_per: \"\",\n      apellido_pat_per: \"\",\n      apellido_mat_per: \"\",\n      id_tipo_doc: \"\",\n      nro_doc_per: \"\",\n      sexo_per: \"\",\n      id_est_civil: \"\",\n      telefono_per: \"\",\n      celular_per: \"\",\n      email_per: \"\",\n      nacionalidad: \"\",\n      fch_nacimiento_per: \"\",\n      id_nac_pais_per: 9589,\n      id_nac_ciudad_per: 2919,\n      id_nac_provincia_per: 2301,\n      id_nac_distrito_per: 230101,\n      residencia_per: \"\",\n      id_res_ciudad_per: 2919,\n      id_res_provincia_per: 2301,\n      id_res_distrito_per: 230101,\n      res_direccion_per: \"\",\n      res_referencia_per: \"\",\n      res_telefono_per: \"\",\n      IdAdm_Discapacidad: \"\",\n      idIEdu: \"\",\n      id_educ_pais_per: 9589,\n      id_educ_ciudad_per: 2919,\n      id_educ_provincia_per: 2301,\n      id_educ_distrito_per: 230101,\n\n      id_ficha: 0,\n      id_datos_personales: 0,\n      id_nacimiento: 0,\n      id_direccion: 0,\n      id_educacion: 0,\n\n      cod_univ: \"\",\n      cod_per: \"\",\n      terminos: false,\n      correo_verificado: false,\n      correo_fecha_verificacion: \"\",\n      sms_verificado: \"\",\n      sms_fecha_verificacion: \"\",\n      estado: \"\",\n\n      loading: false,\n      bloqued: false,\n      visibleSave: true,\n      visibleModal: false,\n      visibleModalCorreo: false,\n      visibleSend: false,\n      visibleSendCorreo: false,\n      visibleSaveCorreo: true,\n      disableNumero: false,\n\n      fichaPersona: true,\n\n      segundos: 62,\n      intentos: 0,\n      existe: false,\n\n      mensaje: \"\",\n      confirmacion: 0,\n      codigo_correo: 0,\n      codigo_sms: 0,\n\n      finalizado: false,\n      permiso: false,\n      session: \"\",\n\n      discapacidades: [],\n      estadosCiviles: [],\n      tiposDocumentos: [],\n      paises: [],\n      ciudades: [],\n      provincias: [],\n      distritos: [],\n      instituciones: [],\n      dependencias: [],\n\n      emailValido: false,\n      celularValido: false,\n      edadValida: false\n    };\n  }\n\n  codigo = \"\";\n\n  async componentDidMount() {\n    const href = await window.location.href;\n    const arrUrl = await href.split(\"=\");\n\n    await this.setState({\n      session: arrUrl[1]\n    });\n\n    const response = await fetch(\n      `${apiUrl}/Usuario.php?p=read&session=${this.state.session}`\n    );\n\n    if (response.status === 200) {\n      const data = await response.json();\n      await this.setState({\n        cod_univ: data.CodUniv,\n        permiso: data.bolAsesorFichaDatos\n      });\n    } else if (response.status === 400) {\n      console.log(\"No funciona\");\n    }\n\n    if (this.state.permiso == false) {\n      this.getFichaPersona();\n    }\n\n    await this.getDiscapacidades();\n    await this.getEstadosCiviles();\n    await this.getTipoDocumento();\n    await this.getPaises();\n    await this.getCiudades();\n    await this.getProvincias();\n    await this.getDistritos();\n    await this.getInstituciones();\n    await this.getDiscapacidades();\n    await this.getDependencias();\n  }\n\n  siguiente = async () => {\n    await this.validarEmail();\n    await this.validarCelular();\n    if (this.state.emailValido && this.state.celularValido) {\n      if (this.state.correo_verificado == true) {\n        const paso = this.state.paso + 1;\n\n        if (this.state.paso == 1) {\n          if (this.state.edadValida) {\n            await this.setState(\n              {\n                paso\n              },\n              this.updateData()\n            );\n          }\n        } else {\n          await this.setState(\n            {\n              paso\n            },\n            this.updateData()\n          );\n        }\n      } else {\n        this.showModalCorreo();\n      }\n    } else if (!this.state.emailValido) {\n      Modal.warning({\n        title: \"Email inválido\",\n        content: \"El email ingresado no es válido\",\n        centered: true\n      });\n    } else if (!this.state.celularValido) {\n      Modal.warning({\n        title: \"Celular inválido\",\n        content:\n          \"El número de celular que ha ingresado tiene que ser mínimo de 9 dígitos\",\n        centered: true\n      });\n    }\n  };\n\n  regresar() {\n    const paso = this.state.paso - 1;\n    this.setState({\n      paso\n    });\n  }\n\n  validarEdad = async () => {\n    let a = Math.floor(\n      moment(new Date()).diff(moment(\"07/25/2002\"), \"years\", true)\n    );\n    if (a > 16) {\n      await this.setState({\n        edadValida: true\n      });\n    }\n    console.log(a);\n  };\n\n  validarEmail = async () => {\n    const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    await this.setState({\n      emailValido: re.test(String(this.state.email_per).toLowerCase())\n    });\n  };\n\n  validarCelular = async () => {\n    const re = /^([0-9]{9})$/;\n    await this.setState({\n      celularValido: re.test(this.state.celular_per)\n    });\n  };\n\n  handleChangeInput = input => e => {\n    this.setState({ [input]: e.target.value });\n  };\n\n  handlePressEnter = () => {\n    // this.setState({\n    //   paso: 0\n    // });\n    // this.getFichaPersona();\n    //\n    // this.esCorreoVerificado();\n    // if (this.state.correo_verificado) {\n    //   this.confirm();\n    // }\n  };\n\n  getDiscapacidades = async () => {\n    const response = await fetch(\n      `${apiUrl}/Discapacidad.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    );\n    const data = await response.json();\n    await this.setState({\n      discapacidades: data\n    });\n  };\n\n  getEstadosCiviles = async () => {\n    const response = await fetch(\n      `${apiUrl}/EstadoCivil.php?p=read&session=${this.state.session}&CodUniv=${\n        this.state.cod_univ\n      }`\n    );\n    const data = await response.json();\n    await this.setState({\n      estadosCiviles: data\n    });\n  };\n\n  getTipoDocumento = async () => {\n    const response = await fetch(\n      `${apiUrl}/TipoDocumento.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    );\n    const data = await response.json();\n    await this.setState({\n      tiposDocumentos: data\n    });\n  };\n\n  getPaises = async () => {\n    const response = await fetch(\n      `${apiUrl}/Nacionalidad.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    );\n    const data = await response.json();\n    await this.setState({\n      paises: data\n    });\n  };\n\n  getCiudades = async () => {\n    // const response = await fetch(\n    //   `${apiUrl}/Ciudad.php?p=read&session=${this.state.session}&CodUniv=${\n    //     this.state.cod_univ\n    //   }&idPais=${this.state.id_nac_pais_per}`\n    // );\n    const response = await fetch(\n      `${apiUrl}/Ciudad.php?p=read&session=${this.state.session}&CodUniv=${\n        this.state.cod_univ\n      }`\n    );\n    const data = await response.json();\n    await this.setState({\n      ciudades: data\n    });\n  };\n\n  getProvincias = async () => {\n    // const response = await fetch(\n    //   `${apiUrl}/Provincia.php?p=read&session=${this.state.session}&CodUniv=${\n    //     this.state.cod_univ\n    //   }&idCiudad=${this.state.id_nac_ciudad_per}`\n    // );\n    const response = await fetch(\n      `${apiUrl}/Provincia.php?p=read&session=${this.state.session}&CodUniv=${\n        this.state.cod_univ\n      }`\n    );\n    const data = await response.json();\n    await this.setState({\n      provincias: data\n    });\n  };\n\n  getDistritos = async () => {\n    // const response = await fetch(\n    //   `${apiUrl}/Distrito.php?p=read&session=${this.state.session}&CodUniv=${\n    //     this.state.cod_univ\n    //   }&idPais=${this.state.id_nac_pais_per}&idCiudad=${\n    //     this.state.id_nac_ciudad_per\n    //   }&idProvincia=${this.state.id_nac_provincia_per}`\n    // );\n    const response = await fetch(\n      `${apiUrl}/Distrito.php?p=read&session=${this.state.session}&CodUniv=${\n        this.state.cod_univ\n      }`\n    );\n    const data = await response.json();\n    await this.setState({\n      distritos: data\n    });\n  };\n\n  getInstituciones = async () => {\n    await fetch(\n      `${apiUrl}/NivelEducativo.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${\n        this.state.cod_univ\n      }&nivel=1&idPais=9589&idCiudad=2919&idProvincia=2301&idDistrito=230101`\n    )\n      .then(response => response.json())\n      .then(data => this.setState({ instituciones: data }));\n  };\n\n  getDependencias = async () => {\n    await fetch(\n      `${apiUrl}/DependenciaVivienda.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    )\n      .then(response => response.json())\n      .then(data => this.setState({ dependencias: data }));\n  };\n\n  esCorreoVerificado = () => {\n    fetch(\n      `http://172.35.123.9/FichaWeb/app/controller/fichaActualizacionPersona/read.php?CodUniv=${\n        this.state.cod_univ\n      }`\n    ).then(response =>\n      response.json().then(data => {\n        if (response.status === 200) {\n          this.setState(\n            {\n              correo_verificado: data.correo_verificado === \"0\" ? false : true,\n              existe: true\n            },\n            this.confirm\n          );\n        } else if (response.status === 400) {\n          this.setState(\n            {\n              correo_verificado: false,\n              existe: false\n            },\n            this.confirm\n          );\n        }\n      })\n    );\n  };\n\n  confirm() {\n    // if (this.state.correo_verificado === true && this.state.existe === true) {\n    //   this.getFichaPersona();\n    // } else\n\n    if (this.state.existe === true && this.state.terminos === false) {\n      Modal.confirm({\n        title: \"Compromisos de las normas establecidas en la UPT\",\n        content: (\n          <div>\n            <h3>TÉRMINOS Y CONDICIONES</h3>\n            <div\n              style={{\n                height: \"250px\",\n                overflowY: \"scroll\",\n                marginBottom: \"16px\",\n                backgroundColor: \"#f7f7f7\",\n                padding: \"0 16px\",\n                border: \"1px solid #001529\"\n              }}\n            >\n              <p\n                style={{\n                  textAlign: \"justify\",\n                  backgroundColor: \"#f7f7f7\",\n                  borderRadius: \"16px\"\n                }}\n              >\n                \"De conformidad con la Ley N° 29733, Ley de Protección de Datos\n                Personales (en adelante, la Ley), y su reglamento, aprobado por\n                el Decreto Supremo N° 003-2013- JUS (en adelante, el\n                Reglamento), el usuario autoriza el tratamiento de los datos\n                personales que facilite a la Universidad Privada de Tacna (en\n                adelante, la Universidad) por el presente medio electrónico. Al\n                completar el presente formulario y aceptar previamente los\n                términos que rigen el tratamiento de los datos personales, la\n                Universidad procederá a guardar la información del usuario en la\n                base de datos que posee en condición de titular, por tiempo\n                indefinido o hasta que usted revoque el consentimiento otorgado.\n                La información que brindará el usuario a la Universidad se\n                encontrará referida a nombres y apellidos, documento de\n                identidad, fecha de nacimiento, teléfono, correo electrónico y,\n                en general, cualquier otro dato personal que se ponga en\n                conocimiento de la Universidad. La Universidad (sito en Campus\n                Capanique s/n), declara ser la titular del banco de datos\n                personales y utilizará su información para las siguientes\n                finalidades: i) realización de gestiones académicas,\n                institucionales y administrativas; ii) remisión de información\n                para cubrir las necesidades respecto de los programas académicos\n                que son del interés o consulta del titular; y, iii) realización\n                de encuestas de satisfacción y mejora del servicio educativo.\n                Adicionalmente, y de ser aceptado por el usuario, la Universidad\n                queda autorizada a remitirle información sobre los diferentes\n                programas académicos de postgrado, educación ejecutiva e\n                idiomas, eventos académicos, artísticos, culturales y de\n                entretenimiento organizados por la Universidad o cualquiera de\n                sus dependencias, para lo cual utilizará la vía postal,\n                telefónica o cualquier otro medio de comunicación. En caso de\n                que el usuario desee ejercer sus derechos de acceso,\n                cancelación, oposición, revocatoria de consentimiento,\n                modificación o cualquier otro contemplado en la Ley, deberá\n                enviar una comunicación al buzón computo@upt.edu.pe. Se pone en\n                conocimiento de los usuarios que los formularios, mediante los\n                cuales otorguen sus datos personales, incluyen preguntas\n                obligatorias y facultativas, las cuales podrán ser identificadas\n                en cada formulario. Las consecuencias de la concesión de datos\n                personales, faculta a la Universidad a utilizarlos de acuerdo a\n                las finalidades señaladas precedentemente. La negativa en la\n                entrega de los datos personales del usuario imposibilita a la\n                Universidad a incluirlos en su base de datos y a atender sus\n                requerimientos.\n              </p>\n            </div>\n            <h3>DECLARO BAJO JURAMENTO QUE:</h3>\n            <div\n              style={{\n                height: \"250px\",\n                overflowY: \"scroll\",\n                backgroundColor: \"#f7f7f7\",\n                padding: \"0 16px\",\n                border: \"1px solid #001529\"\n              }}\n            >\n              <ol\n                style={{\n                  textAlign: \"justify\",\n                  backgroundColor: \"#f7f7f7\",\n                  borderRadius: \"16px\"\n                }}\n              >\n                <li>\n                  He sido informado respecto a los reglamentos, normas y\n                  directivas establecidas en la UPT, referidas a las Actividades\n                  Académicas, Administrativas y de Pagos, las mismas que se\n                  encuentran publicadas y disponibles en la página web de la\n                  Universidad Privada de Tacna: www.upt.edu.pe y que declaro\n                  conocer.\n                </li>\n                <li>\n                  He tomado conocimiento de los beneficios, oportunidades y\n                  moras relacionadas al pago por el servicio educativo, según\n                  directiva de Gestión de Pagos por derechos de enseñanza en la\n                  Universidad Privada de Tacna y demás normas y directivas\n                  internas vigentes y aplicables, así como las tasas\n                  administrativas y académicas, cuyo procedimiento y montos\n                  declaro conocer, asumir y cumplir.\n                </li>\n                <li>\n                  En el calendario académico que fija la UPT para cada semestre\n                  académico, se establece el Cronograma para el pago de las\n                  cuotaspor el Servicio Educativo y que,en caso de retraso en su\n                  pago, se genera un interés moratorio del que he sido\n                  informado.\n                </li>\n                <li>\n                  Los datos personales consignados en el presente documento, son\n                  veraces y auténticos y tienen carácter de Declaración Jurada,\n                  por lo que pueden ser utilizados por la Universidad Privada de\n                  Tacna para que se me informe respecto a aspectos académicos y\n                  administrativos de esta institución. Encaso de falsedad y\n                  ausencia de estos datos, asumo y me someto a las acciones\n                  administrativas y legales que resulten aplicables.\n                </li>\n              </ol>\n            </div>\n          </div>\n        ),\n        okText: \"Si acepto\",\n        cancelText: \"No acepto\",\n        onOk: this.handleOkTerminos,\n        onCancel: this.handleCancelTerminos,\n        width: \"70%\",\n        centered: true\n      });\n    } else if (this.state.existe === false) {\n      Modal.error({\n        title: \"ERROR\",\n        content: this.state.mensaje\n      });\n    }\n  }\n\n  handleOkTerminos = () => {\n    this.setState(\n      {\n        terminos: true\n      },\n      this.state.id_ficha === 1\n        ? this.saveFichaActualizacionPersona\n        : this.updateFichaActualizacion\n    );\n  };\n\n  handleCancelTerminos = () => {\n    Modal.confirm({\n      title: \"Compromisos de las normas establecidas en la UPT\",\n      content: (\n        <p>\n          Para continuar con el proceso de matrícula es necesario que complete\n          la actualización de datos.\n        </p>\n      )\n    });\n  };\n\n  handleChangeSelect = select => e => {\n    this.setState({ [select]: e });\n  };\n\n  handleChangeDatePicker = picker => date => {\n    this.setState({ [picker]: date });\n  };\n\n  handleOk = async () => {\n    await this.setState({ loading: true, bloqued: true, disableNumero: true });\n    setTimeout(() => {\n      this.setState({ loading: false, visibleSend: true, visibleSave: false });\n    }, 2000);\n\n    await this.timer();\n    await this.sendSms();\n  };\n\n  handleOkCorreo = async () => {\n    await this.setState({ loading: true });\n    setTimeout(() => {\n      this.setState({\n        loading: false,\n        visibleSendCorreo: true,\n        visibleSaveCorreo: false\n      });\n    }, 2000);\n    await this.sendEmail();\n  };\n\n  generateCodigo = () => {\n    let max = 9999;\n    let min = 1000;\n    return Math.floor(Math.random() * (max + 1 - min) + min);\n  };\n\n  sendEmail = async () => {\n    const url = `${apiUrl}/Email.php?p=send&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const codigo = this.generateCodigo();\n\n    const data = {\n      email_per: this.state.email_per,\n      codigo: codigo\n    };\n    fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    }).then(res => res.json());\n\n    await this.saveEmail(codigo);\n  };\n\n  sendSms = async () => {\n    // const url = \"http://172.35.123.9/FichaWeb/app/controller/sms/send.php\";\n\n    const codigo = this.generateCodigo();\n\n    // const data = {\n    //   celular_numero: this.state.celular_per,\n    //   celular_mensaje: codigo\n    // };\n    // await fetch(url, {\n    //   method: \"POST\",\n    //   mode: \"no-cors\",\n    //   headers: {\n    //     \"Content-Type\": \"application/json\"\n    //   },\n    //   body: JSON.stringify(data)\n    // })\n    //   .then(res => res.json())\n    //   .catch(error => console.log(`Error: ${error}`));\n\n    await this.saveSms(codigo);\n  };\n\n  saveEmail = async codigo => {\n    // const codigo2 = this.generateCodigo();\n\n    const url = `${apiUrl}/FichaActualizacionPersona.php?p=updateCodigoCorreo&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_ficha: this.state.id_ficha,\n      codigo_correo: codigo\n    };\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    }).then(res => res.json());\n  };\n\n  saveSms = async codigo => {\n    const url = `${apiUrl}/FichaActualizacionPersona.php?p=updateCodigoSms&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_ficha: this.state.id_ficha,\n      codigo_sms: codigo\n    };\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    }).then(res => res.json());\n  };\n\n  handleCancel = () => {\n    this.setState({\n      visibleModal: false,\n      visibleSend: false,\n      visibleSave: true,\n      disableNumero: false\n    });\n  };\n\n  handleCancelCorreo = () => {\n    this.setState({\n      visibleModalCorreo: false,\n      visibleSendCorreo: false,\n      visibleSaveCorreo: true\n    });\n  };\n\n  getCodigoSms = async () => {\n    await fetch(\n      `${apiUrl}/FichaActualizacionPersona.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    ).then(response =>\n      response.json().then(data => {\n        if (response.status === 200) {\n          this.setState({\n            codigo_sms: data.codigo_sms\n          });\n        }\n      })\n    );\n  };\n\n  handleSave = async () => {\n    await this.getCodigoSms();\n    if (this.state.codigo_sms == this.state.confirmacion) {\n      await this.setState({\n        visibleSave: false,\n        visibleSend: true,\n        sms_verificado: true,\n        visibleModal: false,\n        intentos: 0,\n        confirmacion: 0,\n        finalizado: true\n      });\n      // this.saveLugarNacimiento();\n      // this.saveLugarResidencia();\n      // this.saveEducacion();\n      if (this.state.sms_verificado) {\n        const url = `${apiUrl}/FichaActualizacionPersona.php?p=updateSmsVerificacion&session=${\n          this.state.session\n        }&CodUniv=${this.state.cod_univ}`;\n        const data = {\n          id_ficha: this.state.id_ficha,\n          sms_verificado: true,\n          finalizado: true\n        };\n        await fetch(url, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          method: \"POST\",\n          // mode: \"no-cors\",\n          body: JSON.stringify(data)\n        }).then(res => res.json());\n      }\n    } else {\n      Modal.error({\n        title: \"ERROR\",\n        content: \"El código ingresado no coincide.\"\n      });\n    }\n  };\n\n  getCodigoCorreo = async () => {\n    await fetch(\n      `${apiUrl}/FichaActualizacionPersona.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    ).then(response =>\n      response.json().then(data => {\n        if (response.status === 200) {\n          this.setState({\n            codigo_correo: data.codigo_correo\n          });\n        }\n      })\n    );\n  };\n\n  handleSaveCorreoVerificado = async () => {\n    await this.getCodigoCorreo();\n    if (this.state.codigo_correo == this.state.confirmacion) {\n      await this.setState({\n        correo_verificado: true,\n        visibleModalCorreo: false,\n        confirmacion: 0\n      });\n\n      if (this.state.correo_verificado) {\n        const url = `${apiUrl}/FichaActualizacionPersona.php?p=updateCorreoVerificacion&session=${\n          this.state.session\n        }&CodUniv=${this.state.cod_univ}`;\n        const data = {\n          id_ficha: this.state.id_ficha,\n          correo_verificado: true\n        };\n        fetch(url, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          method: \"POST\",\n          // mode: \"no-cors\",\n          body: JSON.stringify(data)\n        }).then(res => res.json());\n      }\n      this.siguiente();\n    } else {\n      console.log(\"No son iguales\");\n    }\n  };\n\n  saveFichaActualizacionPersona = async () => {\n    const url = `${apiUrl}/FichaActualizacionPersona.php?p=create&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_ficha: this.state.id_ficha,\n      cod_univ: this.state.cod_univ,\n      cod_per: this.state.cod_per,\n      terminos: this.state.terminos, //TODO Agregar this.state.terminos\n      correo_verificado: false,\n      correo_fecha_verificacion: moment(),\n      sms_verificado: false,\n      sms_fecha_verificacion: moment(),\n      estado: false,\n      finalizado: false,\n      validado: false,\n      id_asesor: 0,\n      fecha_validacion: \"\"\n    };\n\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      mode: \"no-cors\",\n      body: JSON.stringify(data)\n    });\n    // .then(res => res.json())\n    // .catch(error => console.log(`Error: ${error}`))\n    // .then(res => console.log(`Sucess: ${res}`));\n\n    await this.getIdFichaPersona();\n  };\n\n  saveDatosPersonales = async () => {\n    const url = `${apiUrl}/DatosPersonales.php?p=create&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_datos_personales: 0,\n      id_ficha: parseInt(this.state.id_ficha, 10),\n      nombres: this.state.nombre_per,\n      apellido_paterno: this.state.apellido_pat_per,\n      apellido_materno: this.state.apellido_mat_per,\n      sexo: this.state.sexo_per,\n      estado_civil:\n        this.state.id_est_civil === \"\" || this.state.id_est_civil == null\n          ? 1\n          : this.state.id_est_civil,\n      id_discapacidad:\n        this.state.IdAdm_Discapacidad === 0 ||\n        this.state.IdAdm_Discapacidad === \"\"\n          ? 1\n          : this.state.IdAdm_Discapacidad,\n      tipo_documento: parseInt(this.state.id_tipo_doc, 10),\n      numero_documento: this.state.nro_doc_per,\n      email: this.state.email_per,\n      celular: this.state.celular_per,\n      telefono:\n        this.state.telefono_per === \"\" || this.state.telefono_per == null\n          ? \"-\"\n          : this.state.telefono_per\n    };\n\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    }).then(res => res.json());\n\n    await this.getIds();\n  };\n\n  saveLugarNacimiento = async () => {\n    const url = `${apiUrl}/LugarNacimiento.php?p=create&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_nacimiento: 1,\n      id_ficha: this.state.id_ficha,\n      fecha_nacimiento: this.state.fch_nacimiento_per,\n      id_nac_cod_pais:\n        this.state.id_nac_pais_per == null || this.state.id_nac_pais_per === \"\"\n          ? 9589\n          : this.state.id_nac_pais_per,\n      id_nac_cod_ciudad:\n        this.state.id_nac_ciudad_per == null ||\n        this.state.id_nac_ciudad_per === \"\"\n          ? 2919\n          : this.state.id_nac_ciudad_per,\n      id_nac_cod_provincia:\n        this.state.id_nac_provincia_per == null ||\n        this.state.id_nac_provincia_per === \"\"\n          ? 2301\n          : this.state.id_nac_provincia_per,\n      id_nac_cod_distrito:\n        this.state.id_nac_distrito_per == null ||\n        this.state.id_nac_distrito_per === \"\"\n          ? 230101\n          : this.state.id_nac_distrito_per\n    };\n\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    }).then(res => res.json());\n\n    await this.getIds();\n  };\n\n  saveLugarResidencia = async () => {\n    const url = `${apiUrl}/LugarResidencia.php?p=create&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_direccion: 1,\n      id_ficha: this.state.id_ficha,\n      id_dir_cod_ciudad:\n        this.state.id_res_ciudad_per == null ||\n        this.state.id_res_ciudad_per === \"\"\n          ? 2919\n          : this.state.id_res_ciudad_per,\n      id_dir_cod_provincia:\n        this.state.id_res_provincia_per == null ||\n        this.state.id_res_provincia_per === \"\"\n          ? 2301\n          : this.state.id_res_provincia_per,\n      id_dir_cod_distrito:\n        this.state.id_res_distrito_per == null ||\n        this.state.id_res_distrito_per === \"\"\n          ? 230101\n          : this.state.id_res_distrito_per,\n      direccion:\n        this.state.res_direccion_per === \"\"\n          ? \"-\"\n          : this.state.res_direccion_per,\n      referencia:\n        this.state.res_referencia_per === \"\"\n          ? \"-\"\n          : this.state.res_referencia_per,\n      telefono_referencia:\n        this.state.res_referencia_per === \"\" ? \"-\" : this.state.res_telefono_per\n    };\n\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    }).then(res => res.json());\n\n    await this.getIds();\n  };\n\n  saveEducacion = async () => {\n    const url = `${apiUrl}/NivelEducativo.php?p=create&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_educacion: 1,\n      id_ficha: this.state.id_ficha,\n      id_educ_cod_pais:\n        this.state.id_educ_pais_per == null ||\n        this.state.id_educ_pais_per === \"\"\n          ? 9589\n          : this.state.id_educ_pais_per,\n      id_educ_cod_ciudad:\n        this.state.id_educ_ciudad_per == null ||\n        this.state.id_educ_ciudad_per === \"\"\n          ? 2919\n          : this.state.id_educ_ciudad_per,\n      id_educ_cod_provincia:\n        this.state.id_educ_provincia_per == null ||\n        this.state.id_educ_provincia_per === \"\"\n          ? 2301\n          : this.state.id_educ_provincia_per,\n      id_educ_cod_distrito:\n        this.state.id_educ_distrito_per == null ||\n        this.state.id_educ_distrito_per === \"\"\n          ? 230101\n          : this.state.id_educ_distrito_per,\n      idEdu:\n        this.state.idIEdu === \"\" || this.state.idIEdu == null\n          ? \"0\"\n          : this.state.idIEdu\n    };\n\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    }).then(res => res.json());\n\n    await this.getIds();\n  };\n\n  updateData = () => {\n    if (this.state.paso === 0 && this.state.id_datos_personales === 0) {\n      this.saveDatosPersonales();\n    } else if (this.state.paso === 0 && this.state.id_datos_personales !== 0) {\n      this.updateDatosPersonales();\n    } else if (\n      this.state.paso === 1 &&\n      (this.state.id_nacimiento == null || this.state.id_nacimiento === 0)\n    ) {\n      this.saveLugarNacimiento();\n    } else if (this.state.paso === 1 && this.state.id_nacimiento !== 0) {\n      this.updateLugarNacimiento();\n    } else if (\n      this.state.paso === 2 &&\n      (this.state.id_direccion == null || this.state.id_direccion === 0)\n    ) {\n      this.saveLugarResidencia();\n    } else if (this.state.paso === 2 && this.state.id_direccion !== 0) {\n      this.updateLugarResidencia();\n    }\n  };\n\n  updateFichaActualizacion = async () => {\n    let url = \"\";\n    url = `${apiUrl}/FichaActualizacionPersona.php?p=update&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_ficha: this.state.id_ficha,\n      cod_univ: this.state.cod_univ,\n      cod_per: this.state.cod_per === \"\" ? 1 : this.state.cod_per,\n      terminos:\n        this.state.terminos === \"\" || this.state.terminos == null\n          ? 1\n          : this.state.terminos,\n      correo_verificado: this.state.correo_verificado,\n      correo_fecha_verificacion:\n        this.state.correo_fecha_verificacion === \"\"\n          ? \"2019/17/7 12:39\"\n          : this.state.correo_fecha_verificacion,\n      sms_verificado: this.state.sms_verificado,\n      sms_fecha_verificacion:\n        this.state.sms_fecha_verificacion === \"\"\n          ? \"2019/17/7 12:39\"\n          : this.state.sms_fecha_verificacion,\n      estado: this.state.estado\n    };\n\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    });\n  };\n\n  updateDatosPersonales = async () => {\n    let url = \"\";\n    url = `${apiUrl}/DatosPersonales.php?p=update&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_datos_personales: this.state.id_datos_personales,\n      id_ficha: this.state.id_ficha,\n      nombres: this.state.nombre_per,\n      apellido_paterno: this.state.apellido_pat_per,\n      apellido_materno: this.state.apellido_mat_per,\n      sexo: this.state.sexo_per,\n      estado_civil: this.state.id_est_civil,\n      id_discapacidad: this.state.IdAdm_Discapacidad,\n      tipo_documento: this.state.id_tipo_doc,\n      numero_documento: this.state.nro_doc_per,\n      email: this.state.email_per,\n      celular: this.state.celular_per,\n      telefono: this.state.telefono_per\n    };\n\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    });\n  };\n\n  updateLugarNacimiento = async () => {\n    let url = \"\";\n    url = `${apiUrl}/LugarNacimiento.php?p=update&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_nacimiento: this.state.id_nacimiento,\n      id_ficha: this.state.id_ficha,\n      fecha_nacimiento: this.state.fch_nacimiento_per,\n      id_nac_cod_pais: this.state.id_nac_pais_per,\n      id_nac_cod_ciudad: this.state.id_nac_ciudad_per,\n      id_nac_cod_provincia: this.state.id_nac_provincia_per,\n      id_nac_cod_distrito: this.state.id_nac_distrito_per\n    };\n\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    });\n  };\n\n  updateLugarResidencia = async () => {\n    let url = \"\";\n    url = `${apiUrl}/LugarResidencia.php?p=update&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_direccion: this.state.id_direccion,\n      id_ficha: this.state.id_ficha,\n      id_dir_cod_ciudad: this.state.id_res_ciudad_per,\n      id_dir_cod_provincia: this.state.id_res_provincia_per,\n      id_dir_cod_distrito: this.state.id_res_distrito_per,\n      direccion: this.state.res_direccion_per,\n      referencia: this.state.res_referencia_per,\n      telefono_referencia: this.state.res_telefono_per\n    };\n\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    });\n  };\n\n  updateEducacion = async () => {\n    let url = \"\";\n    url = `${apiUrl}/NivelEducativo.php?p=update&session=${\n      this.state.session\n    }&CodUniv=${this.state.cod_univ}`;\n\n    const data = {\n      id_educacion: this.state.id_educacion,\n      id_ficha: this.state.id_ficha,\n      idEdu: this.state.idIEdu,\n      id_educ_cod_pais: this.state.id_educ_pais_per,\n      id_educ_cod_ciudad: this.state.id_educ_ciudad_per,\n      id_educ_cod_provincia: this.state.id_educ_provincia_per,\n      id_educ_cod_distrio: this.state.id_educ_distrito_per\n    };\n\n    await fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      // mode: \"no-cors\",\n      body: JSON.stringify(data)\n    });\n  };\n\n  showModal = () => {\n    this.setState(\n      {\n        visibleModal: true\n      },\n      this.state.id_educacion == null || this.state.id_educacion === 0\n        ? this.saveEducacion\n        : this.updateEducacion\n    );\n  };\n\n  showModalCorreo = () => {\n    this.setState({\n      visibleModalCorreo: true\n    });\n  };\n\n  getPersona = async () => {\n    const response = await fetch(\n      `${apiUrl}/FichaPersona.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    );\n\n    if (response.status === 200) {\n      const data = await response.json();\n      this.setState(\n        {\n          id_ficha: 1,\n          cod_per: data.CodPer,\n          nombre_per: data.NomPer,\n          cod_univ: data.CodUniv,\n          apellido_pat_per: data.ApepPer,\n          apellido_mat_per: data.ApemPer,\n          id_tipo_doc: data.TipoDocum,\n          id_est_civil: data.EstadoCivil,\n          nro_doc_per: data.DniPer,\n          sexo_per: data.Sexo,\n          telefono_per: data.TelefFijo,\n          celular_per: data.TelefCelular,\n          email_per: data.Email,\n          fch_nacimiento_per: data.FechaNac,\n          res_direccion_per: data.Direccion,\n          IdAdm_Discapacidad: 1,\n          correo_verificado: false,\n          sms_verificado: false,\n          estado: false,\n          existe: true,\n          id_datos_personales: 0,\n          terminos: false,\n          finalizado: false\n        },\n        this.confirm\n      );\n    } else if (response.status === 400) {\n      const res = await response.json();\n      this.setState(\n        {\n          mensaje: res.message\n        },\n        this.confirm\n      );\n    }\n  };\n\n  getFichaPersona = async () => {\n    const response = await fetch(\n      `${apiUrl}/FichaActualizacionPersona.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    );\n    if (response.status === 200) {\n      const data = await response.json();\n      this.getDatosPersonales();\n      this.getLugarNacimiento();\n      this.getLugarResidencia();\n      this.getNivelEducativo();\n\n      await this.setState(\n        {\n          id_ficha: data.id_ficha,\n          id_datos_personales: data.id_datos_personales,\n          id_nacimiento: data.id_nacimiento,\n          id_direccion: data.id_direccion,\n          id_educacion: data.id_educacion,\n          cod_univ: data.cod_univ,\n          cod_per: data.cod_per,\n          terminos: data.terminos,\n          correo_verificado: data.correo_verificado,\n          correo_fecha_verificacion: data.correo_fecha_verificacion,\n          sms_verificado: data.sms_verificado,\n          sms_fecha_verificacion: data.sms_fecha_verificacion,\n          estado: data.estado,\n          existe: true,\n          finalizado: data.finalizado,\n          validado: data.validado\n        },\n        this.confirm\n      );\n    }\n    if (response.status === 400) {\n      this.getPersona();\n    }\n  };\n\n  getIdFichaPersona = async () => {\n    await fetch(\n      `${apiUrl}/FichaActualizacionPersona.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    ).then(response =>\n      response.json().then(data => {\n        if (response.status === 200) {\n          this.setState(\n            {\n              id_ficha: data.id_ficha\n            },\n            this.saveDatosPersonales\n          );\n        }\n      })\n    );\n  };\n\n  getDatosPersonales() {\n    fetch(\n      `${apiUrl}/DatosPersonales.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    )\n      .then(response => response.json())\n      .then(data =>\n        this.setState({\n          id_datos_personales: data.id_datos_personales,\n          nombre_per: data.nombres,\n          apellido_pat_per: data.apellido_paterno,\n          apellido_mat_per: data.apellido_materno,\n          id_tipo_doc: data.tipo_documento,\n          nro_doc_per: data.numero_documento,\n          id_est_civil: data.estado_civil,\n          sexo_per: data.sexo,\n          IdAdm_Discapacidad: data.id_discapacidad,\n          telefono_per: data.telefono,\n          celular_per: data.celular,\n          email_per: data.email\n        })\n      );\n  }\n\n  getIds = async () => {\n    if (\n      this.state.id_datos_personales === 0 ||\n      this.state.id_nacimiento === 0 ||\n      this.state.id_direccion === 0 ||\n      this.state.id_educacion === 0\n    ) {\n      const response = await fetch(\n        `${apiUrl}/FichaActualizacionPersona.php?p=read&session=${\n          this.state.session\n        }&CodUniv=${this.state.cod_univ}`\n      );\n\n      if (response.status === 200) {\n        const data = await response.json();\n        await this.setState({\n          id_datos_personales: data.id_datos_personales,\n          id_nacimiento: data.id_nacimiento,\n          id_direccion: data.id_direccion,\n          id_educacion: data.id_educacion\n        });\n      }\n\n      // .then(response =>\n      //   response.json().then(data => {\n      //     if (response.status === 200) {\n      //       this.setState({\n      //         id_datos_personales: data.id_datos_personales,\n      //         id_nacimiento: data.id_nacimiento,\n      //         id_direccion: data.id_direccion,\n      //         id_educacion: data.id_educacion\n      //       });\n      //     }\n      //   })\n    }\n  };\n\n  getLugarNacimiento = async () => {\n    const response = await fetch(\n      `${apiUrl}/LugarNacimiento.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    );\n\n    if (response.status === 200) {\n      const data = await response.json();\n\n      await this.setState({\n        id_nacimiento: data.id_nacimiento,\n        fch_nacimiento_per: data.fecha_nacimiento,\n        id_nac_pais_per:\n          data.id_nac_cod_pais != null\n            ? data.id_nac_cod_pais\n            : this.state.id_nac_pais_per,\n        id_nac_ciudad_per:\n          data.id_nac_cod_ciudad != null\n            ? data.id_nac_cod_ciudad\n            : this.state.id_nac_pais_per,\n        id_nac_provincia_per:\n          data.id_nac_cod_provincia != null\n            ? data.id_nac_cod_provincia\n            : this.state.id_nac_provincia_per,\n        id_nac_distrito_per:\n          data.id_nac_cod_distrito != null\n            ? data.id_nac_cod_distrito\n            : this.state.id_nac_distrito_per\n      });\n    }\n  };\n\n  getLugarResidencia = async () => {\n    const response = await fetch(\n      `${apiUrl}/LugarResidencia.php?p=read&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    );\n    if (response.status === 200) {\n      const data = await response.json();\n      await this.setState({\n        id_direccion: data.id_direccion,\n        id_res_ciudad_per: data.id_dir_cod_ciudad,\n        id_res_provincia_per: data.id_dir_cod_provincia,\n        id_res_distrito_per: data.id_dir_cod_distrito,\n        res_direccion_per: data.direccion,\n        res_referencia_per: data.referencia,\n        res_telefono_per: data.telefono_referencia\n      });\n    }\n  };\n\n  getNivelEducativo = async () => {\n    const response = await fetch(\n      `${apiUrl}/NivelEducativo.php?p=readOne&session=${\n        this.state.session\n      }&CodUniv=${this.state.cod_univ}`\n    );\n    if (response.status === 200) {\n      const data = await response.json();\n      await this.setState({\n        id_educacion: data.id_educacion,\n        id_educ_pais_per: data.id_educ_cod_pais,\n        id_educ_ciudad_per: data.id_educ_cod_ciudad,\n        id_educ_provincia_per: data.id_educ_cod_provincia,\n        id_educ_distrito_per: data.id_educ_cod_distrito,\n        idIEdu: data.idEdu\n      });\n    }\n  };\n\n  actionButton = () => {\n    if (this.state.paso === 0) {\n      return \"button-right steps-action\";\n    } else {\n      return \"steps-action\";\n    }\n  };\n\n  timer = () => {\n    const time = setInterval(() => {\n      this.setState(\n        {\n          segundos: this.state.segundos - 1\n        },\n        () => {\n          if (this.state.segundos === 0) {\n            clearInterval(time);\n            this.setState({\n              visibleSend: false,\n              visibleSave: true,\n              disableNumero: false,\n              segundos: 62\n            });\n          }\n        }\n      );\n    }, 1000);\n    this.setState({\n      intentos: this.state.intentos + 1\n    });\n  };\n\n  render() {\n    const {\n      paso,\n      loading,\n      visibleModal,\n      bloqued,\n      visibleSave,\n      visibleSend,\n      disableNumero,\n      visibleModalCorreo,\n      visibleSendCorreo,\n      visibleSaveCorreo\n    } = this.state;\n    const {\n      nombre_per,\n      apellido_pat_per,\n      apellido_mat_per,\n      id_tipo_doc,\n      nro_doc_per,\n      sexo_per,\n      id_est_civil,\n      telefono_per,\n      celular_per,\n      email_per,\n      nacionalidad,\n      fch_nacimiento_per,\n      id_nac_pais_per,\n      id_nac_ciudad_per,\n      id_nac_provincia_per,\n      id_nac_distrito_per,\n      residencia_per,\n      id_res_ciudad_per,\n      id_res_provincia_per,\n      id_res_distrito_per,\n      res_direccion_per,\n      res_referencia_per,\n      res_telefono_per,\n      id_idioma_origen,\n      idioma_ingles_per,\n      idioma_portuguez_per,\n      idioma_frances_per,\n      id_idioma_otro,\n      IdAdm_Discapacidad,\n      idIEdu,\n      id_educ_pais_per,\n      id_educ_ciudad_per,\n      id_educ_provincia_per,\n      id_educ_distrito_per,\n\n      id_ficha,\n      id_datos_personales,\n      id_nacimiento,\n      id_direccion,\n      id_educacion,\n\n      cod_univ,\n      cod_per,\n      terminos,\n      correo_verificado,\n      correo_fecha_verificacion,\n      sms_verificado,\n      sms_fecha_verificacion,\n      estado,\n      fichaPersona,\n      segundos,\n      intentos,\n      mensaje,\n      confirmacion,\n      finalizado,\n      session,\n      permiso,\n      validado\n    } = this.state;\n    const ficha = {\n      nombre_per,\n      apellido_pat_per,\n      apellido_mat_per,\n      id_tipo_doc,\n      nro_doc_per,\n      sexo_per,\n      id_est_civil,\n      telefono_per,\n      celular_per,\n      email_per,\n      nacionalidad,\n      fch_nacimiento_per,\n      id_nac_pais_per,\n      id_nac_ciudad_per,\n      id_nac_provincia_per,\n      id_nac_distrito_per,\n      residencia_per,\n      id_res_ciudad_per,\n      id_res_provincia_per,\n      id_res_distrito_per,\n      res_direccion_per,\n      res_referencia_per,\n      res_telefono_per,\n      id_idioma_origen,\n      idioma_ingles_per,\n      idioma_portuguez_per,\n      idioma_frances_per,\n      id_idioma_otro,\n      IdAdm_Discapacidad,\n      idIEdu,\n      id_educ_pais_per,\n      id_educ_ciudad_per,\n      id_educ_provincia_per,\n      id_educ_distrito_per,\n\n      id_ficha,\n      id_datos_personales,\n      id_nacimiento,\n      id_direccion,\n      id_educacion,\n\n      cod_univ,\n      cod_per,\n      terminos,\n      correo_verificado,\n      correo_fecha_verificacion,\n      sms_verificado,\n      sms_fecha_verificacion,\n      estado,\n\n      fichaPersona,\n\n      segundos,\n      intentos,\n      mensaje,\n      confirmacion,\n      finalizado,\n      validado,\n      session\n    };\n\n    const { discapacidades } = this.state;\n    const { estadosCiviles } = this.state;\n    const { tiposDocumentos } = this.state;\n    const {\n      paises,\n      ciudades,\n      provincias,\n      distritos,\n      instituciones,\n      dependencias\n    } = this.state;\n\n    const pasos = [\n      {\n        title: \"Datos Personales\",\n        content: (\n          <DatosPersonales\n            ficha={ficha}\n            discapacidades={discapacidades}\n            estadosCiviles={estadosCiviles}\n            tiposDocumentos={tiposDocumentos}\n            handleChangeInput={this.handleChangeInput}\n            handleChangeSelect={this.handleChangeSelect}\n          />\n        )\n      },\n      {\n        title: \"Lugar y fecha de nacimiento\",\n        content: (\n          <LugarFechaNacimiento\n            ficha={ficha}\n            session={session}\n            cod_univ={cod_univ}\n            paises={paises}\n            ciudades={ciudades}\n            provincias={provincias}\n            distritos={distritos}\n            handleChangeInput={this.handleChangeInput}\n            handleChangeSelect={this.handleChangeSelect}\n            handleChangeDatePicker={this.handleChangeDatePicker}\n          />\n        )\n      },\n      {\n        title: \"Lugar de residencia actual\",\n        content: (\n          <LugarResidenciaActual\n            ficha={ficha}\n            session={session}\n            cod_univ={cod_univ}\n            ciudades={ciudades}\n            provincias={provincias}\n            dependencias={dependencias}\n            distritos={distritos}\n            handleChangeInput={this.handleChangeInput}\n            handleChangeSelect={this.handleChangeSelect}\n          />\n        )\n      },\n      {\n        title: \"Nivel educativo e institucion educativa\",\n        content: (\n          <NivelEducativo\n            ficha={ficha}\n            session={session}\n            cod_univ={cod_univ}\n            paises={paises}\n            ciudades={ciudades}\n            provincias={provincias}\n            instituciones={instituciones}\n            distritos={distritos}\n            handleChangeInput={this.handleChangeInput}\n            handleChangeSelect={this.handleChangeSelect}\n          />\n        )\n      }\n    ];\n\n    const formItemLayout = {\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 8 }\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 16 }\n      }\n    };\n\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <Layout style={{ background: \"white\" }}>\n        <Header style={{ color: \"white\", marginBottom: \"1em\" }}>\n          Actualización de Datos Personales\n        </Header>\n        {this.state.finalizado == true && validado == true && (\n          <Result\n            status=\"success\"\n            title=\"Su ficha ha sido validada correctamente\"\n            subTitle=\"Puede continuar con el proceso de matrícula\"\n          />\n        )}\n        {this.state.finalizado == true && validado == false && (\n          <Result\n            status=\"info\"\n            title=\"En proceso de validación\"\n            subTitle=\"Acérquese donde un asesor para terminar de validar su ficha\"\n          />\n        )}\n        {permiso == true && (\n          <DetalleFicha\n            permiso={permiso}\n            session={session}\n            finalizado={finalizado}\n            validado={ficha.validado}\n            cod_univ={this.state.cod_univ}\n          />\n        )}\n        {this.state.finalizado == false && (\n          <div hidden={!terminos}>\n            <Steps current={paso}>\n              {pasos.map(item => (\n                <Step key={item.title} title={item.title} />\n              ))}\n            </Steps>\n            <div className=\"steps-content\">{pasos[paso].content}</div>\n            <div className={this.actionButton()}>\n              {paso > 0 && (\n                <Button\n                  style={{ marginLeft: 8 }}\n                  onClick={() => this.regresar()}\n                  icon={\"caret-left\"}\n                >\n                  Regresar\n                </Button>\n              )}\n              {paso < pasos.length - 1 && (\n                <Button\n                  type=\"primary\"\n                  onClick={() => this.siguiente()}\n                  icon={\"caret-right\"}\n                >\n                  Siguiente\n                </Button>\n              )}\n              {paso === pasos.length - 1 && (\n                <Button\n                  type=\"primary\"\n                  icon={\"save\"}\n                  onClick={() => this.showModal()}\n                >\n                  Guardar\n                </Button>\n              )}\n              <Modal\n                width={500}\n                visible={visibleModal}\n                style={{ textAlign: \"inherit\" }}\n                title=\"Confirmación por SMS\"\n                onOk={this.handleOk}\n                onCancel={this.handleCancel}\n                centered={true}\n                footer={[\n                  <div style={{ textAlign: \"center\" }}>\n                    <Button\n                      style={{ width: \"50%\", marginBottom: \"8px\" }}\n                      key=\"back\"\n                      icon={\"close\"}\n                      type=\"danger\"\n                      onClick={() => this.handleCancel()}\n                    >\n                      Cancelar\n                    </Button>\n                  </div>,\n                  <div style={{ textAlign: \"center\" }}>\n                    <Button\n                      disabled={intentos === 3}\n                      hidden={visibleSend}\n                      style={{ width: \"50%\", marginBottom: \"8px\" }}\n                      key=\"submit\"\n                      icon={\"check\"}\n                      type=\"primary\"\n                      loading={loading}\n                      block={bloqued}\n                      onClick={() => this.handleOk()}\n                    >\n                      Enviar\n                    </Button>\n                  </div>,\n                  <div style={{ textAlign: \"center\" }}>\n                    <Button\n                      hidden={visibleSave}\n                      style={{ width: \"50%\" }}\n                      key=\"submit\"\n                      type=\"primary\"\n                      loading={loading}\n                      onClick={() => this.handleSave()}\n                    >\n                      Confirmar y Guardar\n                    </Button>\n                  </div>\n                ]}\n              >\n                <Form {...formItemLayout}>\n                  <Form.Item label=\"Numero de celular\">\n                    {getFieldDecorator(\"celular\", {\n                      initialValue: this.state.celular_per,\n                      rules: [\n                        {\n                          required: true,\n                          message:\n                            \"Por favor ingrese su número de celular válido\"\n                        }\n                      ]\n                    })(\n                      <Input\n                        disabled={disableNumero}\n                        onChange={this.handleChangeInput(\"celular_per\")}\n                        style={{ width: \"45%\" }}\n                      />\n                    )}\n                  </Form.Item>\n                  <Form.Item label=\"Mensaje de confirmación\">\n                    {getFieldDecorator(\"confirmacion\", {\n                      rules: [\n                        {\n                          required: true,\n                          message: \"Por favor ingrese el código de confirmación\"\n                        }\n                      ]\n                    })(<Input style={{ width: \"45%\" }} />)}\n                  </Form.Item>\n                </Form>\n                <div className={\"button-intentos\"}>\n                  <Button\n                    type=\"link\"\n                    style={{ fontSize: \"14px\", fontWeight: \"bold\" }}\n                    hidden={!visibleSend}\n                  >\n                    Puede volver a enviar en: {segundos}\n                  </Button>\n                </div>\n                <div>\n                  <Text style={{ fontWeight: \"bold\" }}>\n                    Dispone de 3 intentos cada 24 horas: ha realizado {intentos}{\" \"}\n                    de 3 intentos.\n                  </Text>\n                </div>\n                <div hidden={intentos !== 3}>\n                  <Text>\n                    Sino ha llegado el mensaje de confirmación vuelva a intentar\n                    el día de mañana\n                  </Text>\n                </div>\n              </Modal>\n\n              <Modal\n                visible={visibleModalCorreo}\n                title=\"Validación de email\"\n                centered={true}\n                footer={[\n                  <div style={{ textAlign: \"center\" }}>\n                    <Button\n                      style={{ width: \"50%\", marginBottom: \"8px\" }}\n                      key=\"back\"\n                      icon={\"close\"}\n                      type=\"danger\"\n                      onClick={() => this.handleCancelCorreo()}\n                    >\n                      Cancelar\n                    </Button>\n                  </div>,\n                  <div style={{ textAlign: \"center\" }}>\n                    <Button\n                      hidden={visibleSendCorreo}\n                      style={{ width: \"50%\", marginBottom: \"8px\" }}\n                      key=\"submit\"\n                      icon={\"check\"}\n                      type=\"primary\"\n                      loading={loading}\n                      block={bloqued}\n                      onClick={() => this.handleOkCorreo()}\n                    >\n                      Enviar Código\n                    </Button>\n                  </div>,\n                  <div style={{ textAlign: \"center\" }}>\n                    <Button\n                      hidden={visibleSaveCorreo}\n                      style={{ width: \"50%\" }}\n                      key=\"submit\"\n                      type=\"primary\"\n                      loading={loading}\n                      onClick={() => this.handleSaveCorreoVerificado()}\n                    >\n                      Confirmar y Guardar\n                    </Button>\n                  </div>\n                ]}\n              >\n                <div />\n                <Form {...formItemLayout}>\n                  <Form.Item label=\"Email\">\n                    {getFieldDecorator(\"email\", {\n                      initialValue: this.state.email_per,\n                      rules: [\n                        {\n                          required: true,\n                          message: \"Por favor ingrese su email\"\n                        }\n                      ]\n                    })(\n                      <Input\n                        disabled={true}\n                        onChange={this.handleChangeInput(\"email_per\")}\n                        style={{ width: \"45%\" }}\n                      />\n                    )}\n                  </Form.Item>\n                  <Form.Item label=\"Código de confirmación\">\n                    {getFieldDecorator(\"confirmacion\", {\n                      rules: [\n                        {\n                          required: true,\n                          message:\n                            \"Por favor ingrese el código que ha sido enviado a su correo\"\n                        }\n                      ]\n                    })(\n                      <Input\n                        style={{ width: \"45%\" }}\n                        onChange={this.handleChangeInput(\"confirmacion\")}\n                      />\n                    )}\n                  </Form.Item>\n                </Form>\n              </Modal>\n            </div>\n          </div>\n        )}\n      </Layout>\n    );\n  }\n}\n\nexport default Form.create()(UsuarioForm);\n"]},"metadata":{},"sourceType":"module"}